<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>QR-I Assignment 4 – QR - Analysis at UATX</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-683cdb0e6233d135f59c0d2b214a8464.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/live-runtime/live-runtime.js" type="module"></script>
<link href="site_libs/quarto-contrib/live-runtime/live-runtime.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="module" src="site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">QR - Analysis at UATX</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">QR-I Assignment 4</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./about.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./One-minute.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">One-minute questions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://dtkaplan.github.io/QR-A" class="sidebar-item-text sidebar-link">
 <span class="menu-text">QRA textbook</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./weeks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Weekly materials</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">QR-I Assignment 4</h1>
<p class="subtitle lead">Chapter 6 of the QR-A book</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!-- set up webr for a document -->
<div class="cell" data-context="setup">
<div>
<div id="webr-1" class="exercise-cell">

</div>
<script type="webr-1-contents">
eyJhdHRyIjp7ImNvbnRleHQiOiJzZXR1cCIsImVjaG8iOmZhbHNlLCJlZGl0IjpmYWxzZSwiZXZhbCI6dHJ1ZX0sImNvZGUiOiIjIGRlZmluaXRpb25zIG9mIHN0b3J5Ym9vayBmdW5jdGlvbnNcblxuIyBldmVudHVhbGx5IHRoZXNlIHNob3VsZCBnbyBpbiBhIHBhY2thZ2UsIGxpa2Uge21vc2FpY0NhbGN9XG5vc2MgPC0gZnVuY3Rpb24odCkgc2luKDIqcGkqdClcbmhpbGxzaWRlIDwtIGZ1bmN0aW9uKHQpIHBub3JtKHQpXG5oaWxsIDwtIGZ1bmN0aW9uKHQpIGRub3JtKHQpXG5mbGF0IDwtIHVuaXR5IDwtIGZ1bmN0aW9uKHgpIDEuMFxuc3RlYWR5IDwtIGlkIDwtIGZ1bmN0aW9uKHgpIHhcbmRvdWJsZSA8LSBmdW5jdGlvbih0KSAyXnRcbmRvdWJsaW5ncyA8LSBmdW5jdGlvbih4KSBsb2cyKHgpXG5yZWNpcCA8LSBmdW5jdGlvbih4KSAxL3hcbm1hZ25pdHVkZSA8LSB0ZW5uaW5ncyA8LSBmdW5jdGlvbih4KSBsb2cxMCh4KVxudGVuX2ZvbGRzIDwtIGZ1bmN0aW9uKHgpIDEwXngifQ==
</script>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code hidden" id="cb1" data-startfrom="0" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb1-0"><a href="#cb1-0" aria-hidden="true" tabindex="-1"></a><span class="co">// Hidden cell to ensure OJS runtime is loaded for webr</span></span>
<span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>_webr_ojs_trigger <span class="op">=</span> <span class="kw">true</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Warning</span>Remember to hand in your work …
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">Submitting answers</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Honor statement</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href="">Clearing document memory</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>At any point, you can submit your answers by collecting them and uploading them to the class site.</p>
<p><span id="devoirs-docID" style="display: none;">Assignment-04-CH6.rmarkdown</span> <span><button onclick="devoirsSubmit()">Collect your answers</button></span> <span id="devoirs_summary">No answers yet collected</span></p>
<div class="cell">
<div class="cell-output-display">
<script type="text/javascript">
 console.log("In devoirs.js")

function devoirsCollectEssays() {
  var essay_answers = [];
  var items = document.getElementsByClassName("devoirs-text");
  for (i = 0; i < items.length; i++) {
    //console.log("text entry" + i + "being handled");
    essay_answers[i] = {itemid: items[i].id, contents: items[i].value}
  }

  return essay_answers;
}

function devoirsGetDocID() {
  return document.getElementById("devoirs-docID").innerHTML
}

function devoirsCollectMC() {
    let mc_answers = [] // Hold the information
    var ele = document.getElementsByClassName("devoirs-mcq");
    var count = 0;
    for (i = 0; i < ele.length; i++) {
        if (ele[i].checked) {
          //console.log("Entering conditional.");
          let checked_one = ele[i];
          mc_answers[count++] = {itemid: checked_one.id, w: checked_one.getAttribute("w"), contents: checked_one.text};
        }
    }
    return mc_answers;
}

console.log("About to define WebR")

function devoirsCollectWebR() {
  var chunk_contents = []; // placeholder for collecting webr items
  if (typeof qwebrCellDetails == "undefined") {
    // There aren't any webr chunks
    return chunk_contents;
  }
  var chunks = qwebrCellDetails;
  for (i = 0; i < chunks.length; i++) {
    chunk_contents[i] = {itemid: chunks[i].options["label"], contents: chunks[i].code};
  }

  return chunk_contents;
}

console.log("About to define devoirsSubmit")

function devoirsSubmit() {
  console.log("About to collect history")

  // check if there is any sign of a webr entry
  // If not, don't try to collect webr entries
  if (typeof qwebrRCommandHistory === 'undefined') {
    items = {docid: devoirsGetDocID(), MC: devoirsCollectMC(), Essays: devoirsCollectEssays(), WebR: {}, R: {}}
  } else {
    console.log("Getting R commands.")
    var Rhistory = qwebrRCommandHistory.map((x) => x.replace(/Ran code in (.*) at (.*[AP]M).{5}(.*)/, "[chunk: $1, time: $2, code: $3]"))

    items = {docid: devoirsGetDocID(), MC: devoirsCollectMC(), Essays: devoirsCollectEssays()} //, WebR: devoirsCollectWebR(), R: Rhistory}
  }

  navigator.clipboard.writeText(JSON.stringify(items));

  // summarize what's being collected
  var my_summary = "Answers copied to clipboard. Fixed choice: " + items.MC.length + " Essays: " + items.Essays.length + " WebR chunks: " + items.WebR.length

  document.getElementById("devoirs_summary").innerHTML = my_summary;
}

console.log("Read devoirsSubmit()")

// Hint handling in Multiple choice

// Still have to add an on/off switch from options

function devoirs_setup_hintarea() {
  answers = document.getElementsByClassName("devoirs-mcq")
  for (i=0; i<answers.length; i++) answers[i].addEventListener('click', function(e){document.getElementById(e.target.name + "-hintarea").innerHTML = e.target.getAttribute("hint")})
}

 window.addEventListener("load", function() {
  answers = document.getElementsByClassName("devoirs-mcq")
  for (i=0; i<answers.length; i++) {
    if (answers[i].getAttribute("show_hints") == "TRUE") {
        answers[i].addEventListener('click', function(e){
          console.log("inserting hint")
        document.getElementById(e.target.name + "-hintarea").innerText = e.target.getAttribute("hint")
      })

    }
  }
})

console.log("Added hint summary.") 
</script>

</div>
</div>
<p><a href="https://docs.google.com/forms/d/e/1FAIpQLSfh2aEmMwgBA__bl_uTYZl9NjUTLBhzC25qEYHSnwXXWhDqoQ/viewform?usp=header" target="_blank">Link to upload site</a></p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>If requested by your instructor, please identify here the people from whom you received assistance on this assignment.</p>
<script type="text/javascript">
      //save entered info
      document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for honor-statement.');
      const form = document.getElementById('honor-statement');
      form.addEventListener("input", function () {
        var todo = document.getElementById('honor-statement').value;
        localStorage.setItem("honor-statement-contents", todo);
        console.log("Saving value of honor-statement.")
      }, false);

      //on page load, read in the old value
      const savedValue = localStorage.getItem("honor-statement-contents");
      if (savedValue) {
        document.getElementById('honor-statement').value = savedValue;
      }
})
</script>
<textarea id="honor-statement" name="honor-statement" class="devoirs-text" style="font-family: monospace, monospace;" rows="4" cols="50" placeholder="Type here. (ID honor-statement)"></textarea>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
If the answers that have been loaded automatically are not yours, press this button before starting your work:
<script type="text/javascript">
      // clear the local storage
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('btnClearStorage');
      form.addEventListener("click", function () {
        localStorage.clear();
        location.reload();
        console.log("Clearing memory");
      }, false);
    }
    )
    </script>
<button id="btnClearStorage">
Clear memory
</button>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Drill for Chapter 6
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Open drill questions in <a href="https://dtkaplan.github.io/QR-A/Drill-06-storybook-functions.html" target="_blank">this document</a></p>
<p>Remember to submit your drill answers through that document. But for the exercises in the present document, use the “collect answers” at the top of this page.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Note</span>Chapter Six
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">1.</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">2.</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false" href="">3.</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false" href="">4.</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-5" role="tab" aria-controls="tabset-2-5" aria-selected="false" href="">5.</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-6" role="tab" aria-controls="tabset-2-6" aria-selected="false" href="">6.</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell" data-autorun="true">
<div>
<div id="webr-2" class="exercise-cell">

</div>
<script type="webr-2-contents">
eyJhdHRyIjp7ImF1dG9ydW4iOnRydWUsImVjaG8iOmZhbHNlLCJlZGl0IjpmYWxzZSwiZXZhbCI6dHJ1ZX0sImNvZGUiOiIjIGRlZmluaXRpb25zIG9mIHN0b3J5Ym9vayBmdW5jdGlvbnNcblxuIyBldmVudHVhbGx5IHRoZXNlIHNob3VsZCBnbyBpbiBhIHBhY2thZ2UsIGxpa2Uge21vc2FpY0NhbGN9XG5vc2MgPC0gZnVuY3Rpb24odCkgc2luKDIqcGkqdClcbmhpbGxzaWRlIDwtIGZ1bmN0aW9uKHQpIHBub3JtKHQpXG5oaWxsIDwtIGZ1bmN0aW9uKHQpIGRub3JtKHQpXG5mbGF0IDwtIHVuaXR5IDwtIGZ1bmN0aW9uKHgpIDEuMFxuc3RlYWR5IDwtIGlkIDwtIGZ1bmN0aW9uKHgpIHhcbmRvdWJsZSA8LSBmdW5jdGlvbih0KSAyXnRcbmRvdWJsaW5ncyA8LSBmdW5jdGlvbih4KSBsb2cyKHgpXG5yZWNpcCA8LSBmdW5jdGlvbih4KSAxL3hcbm1hZ25pdHVkZSA8LSB0ZW5uaW5ncyA8LSBmdW5jdGlvbih4KSBsb2cxMCh4KVxudGVuX2ZvbGRzIDwtIGZ1bmN0aW9uKHgpIDEwXngifQ==
</script>
</div>
</div>
<div id="exr-bear-climb-mountain" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 1</strong></span> For each scenario below, choose which storybook function would best model the relationship.</p>
<hr>
<div class="cell" data-caption="Explore storybook functions">
<div>
<div id="webr-3" class="exercise-cell">

</div>
<script type="webr-3-contents">
eyJhdHRyIjp7ImNhcHRpb24iOiJFeHBsb3JlIHN0b3J5Ym9vayBmdW5jdGlvbnMiLCJlZGl0Ijp0cnVlLCJldmFsIjp0cnVlfSwiY29kZSI6IiMgUGxvdCBhbnkgc3Rvcnlib29rIGZ1bmN0aW9uIHRvIHNlZSBpdHMgc2hhcGU6XG5zbGljZV9wbG90KGZsYXQoeCkgfiB4LCBkb21haW4oeCA9IC0zOjMpKSJ9
</script>
</div>
</div>
<p><strong>1.</strong> Model <strong>work productivity</strong> as a function of <strong>cups of coffee consumed</strong>. (No coffee leaves you groggy; 1-2 cups makes you alert; 5+ cups leaves you jittery.)</p>
<div class="cell">
<span> <small style="color: grey;" id="bcm-1-coffee-hintarea" class="hintarea">bcm-1-coffee</small>
<form id="bcm-1-coffee-form">
<p>
</p><p><input type="radio" class="devoirs-mcq" value="flat()" id="bcm-1-coffee-1" w="19" name="bcm-1-coffee" hint="This is wide of the mark." show_hints="false"> flat()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="steady()" id="bcm-1-coffee-2" w="7" name="bcm-1-coffee" hint="This is wide of the mark." show_hints="false"> steady()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="hillside()" id="bcm-1-coffee-3" w="3" name="bcm-1-coffee" hint="Think again." show_hints="false"> hillside()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="hill()" id="bcm-1-coffee-4" w="29" name="bcm-1-coffee" hint="That's right." show_hints="false"> hill()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="osc()" id="bcm-1-coffee-5" w="7" name="bcm-1-coffee" hint="Not quite right." show_hints="false"> osc()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="double()" id="bcm-1-coffee-6" w="32" name="bcm-1-coffee" hint="Nope." show_hints="false"> double()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="recip()" id="bcm-1-coffee-7" w="23" name="bcm-1-coffee" hint="Not on target." show_hints="false"> recip()</p>
<p></p>
<input type="radio" class="devoirs-mcq" name="bcm-1-coffee" id="bcm-1-coffee.null" style="display: none;" w="skipped" checked="">
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for bcm-1-coffee.');
      const form = document.getElementById('bcm-1-coffee-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('bcm-1-coffee-choice');
      if (savedValue) {
        console.log("Restoring radio button values for bcm-1-coffee.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for bcm-1-coffee.");
          localStorage.setItem('bcm-1-coffee-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<p><strong>2.</strong> Model <strong>ticket price</strong> as a function of <strong>movie runtime</strong> (minutes). (A 90-minute film costs the same as a 3-hour epic.)</p>
<div class="cell">
<span> <small style="color: grey;" id="bcm-2-movie-hintarea" class="hintarea">bcm-2-movie</small>
<form id="bcm-2-movie-form">
<p>
</p><p><input type="radio" class="devoirs-mcq" value="flat()" id="bcm-2-movie-1" w="18" name="bcm-2-movie" hint="You're right!" show_hints="false"> flat()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="steady()" id="bcm-2-movie-2" w="7" name="bcm-2-movie" hint="Not on target." show_hints="false"> steady()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="hillside()" id="bcm-2-movie-3" w="87" name="bcm-2-movie" hint="Not quite right." show_hints="false"> hillside()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="hill()" id="bcm-2-movie-4" w="32" name="bcm-2-movie" hint="No." show_hints="false"> hill()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="osc()" id="bcm-2-movie-5" w="87" name="bcm-2-movie" hint="Try again!" show_hints="false"> osc()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="double()" id="bcm-2-movie-6" w="32" name="bcm-2-movie" hint="You're wrong here." show_hints="false"> double()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="recip()" id="bcm-2-movie-7" w="23" name="bcm-2-movie" hint="Hmmm ..." show_hints="false"> recip()</p>
<p></p>
<input type="radio" class="devoirs-mcq" name="bcm-2-movie" id="bcm-2-movie.null" style="display: none;" w="skipped" checked="">
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for bcm-2-movie.');
      const form = document.getElementById('bcm-2-movie-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('bcm-2-movie-choice');
      if (savedValue) {
        console.log("Restoring radio button values for bcm-2-movie.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for bcm-2-movie.");
          localStorage.setItem('bcm-2-movie-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<p><strong>3.</strong> Model <strong>tide height</strong> as a function of <strong>hour of the day</strong> (0-24) at a coastal beach.</p>
<div class="cell">
<span> <small style="color: grey;" id="bcm-3-tide-hintarea" class="hintarea">bcm-3-tide</small>
<form id="bcm-3-tide-form">
<p>
</p><p><input type="radio" class="devoirs-mcq" value="flat()" id="bcm-3-tide-1" w="23" name="bcm-3-tide" hint="Oops!" show_hints="false"> flat()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="steady()" id="bcm-3-tide-2" w="7" name="bcm-3-tide" hint="Sorry!" show_hints="false"> steady()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="hillside()" id="bcm-3-tide-3" w="7" name="bcm-3-tide" hint="You might think so, but ..." show_hints="false"> hillside()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="hill()" id="bcm-3-tide-4" w="19" name="bcm-3-tide" hint="You might think so, but ..." show_hints="false"> hill()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="osc()" id="bcm-3-tide-5" w="16" name="bcm-3-tide" hint="Tides rise and fall in a repeating cycle, roughly twice per day." show_hints="false"> osc()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="double()" id="bcm-3-tide-6" w="23" name="bcm-3-tide" hint="Not on target." show_hints="false"> double()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="recip()" id="bcm-3-tide-7" w="19" name="bcm-3-tide" hint="Oops!" show_hints="false"> recip()</p>
<p></p>
<input type="radio" class="devoirs-mcq" name="bcm-3-tide" id="bcm-3-tide.null" style="display: none;" w="skipped" checked="">
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for bcm-3-tide.');
      const form = document.getElementById('bcm-3-tide-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('bcm-3-tide-choice');
      if (savedValue) {
        console.log("Restoring radio button values for bcm-3-tide.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for bcm-3-tide.");
          localStorage.setItem('bcm-3-tide-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<p><strong>4.</strong> Model <strong>vocabulary words you can recall</strong> as a function of <strong>total hours spent learning a new language</strong>. (Beginners learn quickly; advanced learners find each new word harder.)</p>
<div class="cell">
<span> <small style="color: grey;" id="bcm-4-language-hintarea" class="hintarea">bcm-4-language</small>
<form id="bcm-4-language-form">
<p>
</p><p><input type="radio" class="devoirs-mcq" value="flat()" id="bcm-4-language-1" w="3" name="bcm-4-language" hint="Incorrect." show_hints="false"> flat()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="steady()" id="bcm-4-language-2" w="23" name="bcm-4-language" hint="Sorry!" show_hints="false"> steady()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="hillside()" id="bcm-4-language-3" w="18" name="bcm-4-language" hint="Yes!" show_hints="false"> hillside()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="hill()" id="bcm-4-language-4" w="32" name="bcm-4-language" hint="This is wide of the mark." show_hints="false"> hill()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="osc()" id="bcm-4-language-5" w="7" name="bcm-4-language" hint="Not quite." show_hints="false"> osc()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="double()" id="bcm-4-language-6" w="87" name="bcm-4-language" hint="Incorrect choice." show_hints="false"> double()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="recip()" id="bcm-4-language-7" w="23" name="bcm-4-language" hint="This is wide of the mark." show_hints="false"> recip()</p>
<p></p>
<input type="radio" class="devoirs-mcq" name="bcm-4-language" id="bcm-4-language.null" style="display: none;" w="skipped" checked="">
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for bcm-4-language.');
      const form = document.getElementById('bcm-4-language-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('bcm-4-language-choice');
      if (savedValue) {
        console.log("Restoring radio button values for bcm-4-language.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for bcm-4-language.");
          localStorage.setItem('bcm-4-language-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<p><strong>5.</strong> Model <strong>water pressure on a diver</strong> as a function of <strong>depth below ocean surface</strong> (meters).</p>
<div class="cell">
<span> <small style="color: grey;" id="bcm-5-pressure-hintarea" class="hintarea">bcm-5-pressure</small>
<form id="bcm-5-pressure-form">
<p>
</p><p><input type="radio" class="devoirs-mcq" value="flat()" id="bcm-5-pressure-1" w="87" name="bcm-5-pressure" hint="Boo!" show_hints="false"> flat()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="steady()" id="bcm-5-pressure-2" w="14" name="bcm-5-pressure" hint="Pressure increases by about 1 atmosphere for every 10 meters of depth—a constant rate." show_hints="false"> steady()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="hillside()" id="bcm-5-pressure-3" w="87" name="bcm-5-pressure" hint="Wrong." show_hints="false"> hillside()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="hill()" id="bcm-5-pressure-4" w="87" name="bcm-5-pressure" hint="You're mistaken" show_hints="false"> hill()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="osc()" id="bcm-5-pressure-5" w="23" name="bcm-5-pressure" hint="Hmmm ..." show_hints="false"> osc()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="double()" id="bcm-5-pressure-6" w="32" name="bcm-5-pressure" hint="Try again!" show_hints="false"> double()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="recip()" id="bcm-5-pressure-7" w="32" name="bcm-5-pressure" hint="Better luck next time." show_hints="false"> recip()</p>
<p></p>
<input type="radio" class="devoirs-mcq" name="bcm-5-pressure" id="bcm-5-pressure.null" style="display: none;" w="skipped" checked="">
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for bcm-5-pressure.');
      const form = document.getElementById('bcm-5-pressure-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('bcm-5-pressure-choice');
      if (savedValue) {
        console.log("Restoring radio button values for bcm-5-pressure.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for bcm-5-pressure.");
          localStorage.setItem('bcm-5-pressure-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<p><strong>6.</strong> Model <strong>times a meme is shared per day</strong> as a function of <strong>days since it first appeared</strong>. (Memes explode in popularity, peak, then fade.)</p>
<div class="cell">
<span> <small style="color: grey;" id="bcm-6-meme-hintarea" class="hintarea">bcm-6-meme</small>
<form id="bcm-6-meme-form">
<p>
</p><p><input type="radio" class="devoirs-mcq" value="flat()" id="bcm-6-meme-1" w="19" name="bcm-6-meme" hint="Boo!" show_hints="false"> flat()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="steady()" id="bcm-6-meme-2" w="23" name="bcm-6-meme" hint="Incorrect." show_hints="false"> steady()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="hillside()" id="bcm-6-meme-3" w="19" name="bcm-6-meme" hint="You're wrong here." show_hints="false"> hillside()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="hill()" id="bcm-6-meme-4" w="35" name="bcm-6-meme" hint="Yes." show_hints="false"> hill()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="osc()" id="bcm-6-meme-5" w="87" name="bcm-6-meme" hint="You're wrong here." show_hints="false"> osc()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="double()" id="bcm-6-meme-6" w="32" name="bcm-6-meme" hint="Not quite." show_hints="false"> double()</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="recip()" id="bcm-6-meme-7" w="32" name="bcm-6-meme" hint="Incorrect choice." show_hints="false"> recip()</p>
<p></p>
<input type="radio" class="devoirs-mcq" name="bcm-6-meme" id="bcm-6-meme.null" style="display: none;" w="skipped" checked="">
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for bcm-6-meme.');
      const form = document.getElementById('bcm-6-meme-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('bcm-6-meme-choice');
      if (savedValue) {
        console.log("Restoring radio button values for bcm-6-meme.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for bcm-6-meme.");
          localStorage.setItem('bcm-6-meme-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<hr>
<p><strong>Reflection:</strong></p>
<p><strong>7.</strong> Choose ONE of the scenarios above and make a case for using a <em>different</em> storybook function to model it. Is the alternative better, equivalent, or worse than your original answer? Why?</p>
<script type="text/javascript">
      //save entered info
      document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for bcm-reflection.');
      const form = document.getElementById('bcm-reflection');
      form.addEventListener("input", function () {
        var todo = document.getElementById('bcm-reflection').value;
        localStorage.setItem("bcm-reflection-contents", todo);
        console.log("Saving value of bcm-reflection.")
      }, false);

      //on page load, read in the old value
      const savedValue = localStorage.getItem("bcm-reflection-contents");
      if (savedValue) {
        document.getElementById('bcm-reflection').value = savedValue;
      }
})
</script>
<textarea id="bcm-reflection" name="bcm-reflection" class="devoirs-text" style="font-family: monospace, monospace;" rows="4" cols="50" placeholder="Type here. (ID bcm-reflection)"></textarea>
</div>
<p><!-- end of exr-bear-climb-mountain --></p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell" data-autorun="true">
<div>
<div id="webr-4" class="exercise-cell">

</div>
<script type="webr-4-contents">
eyJhdHRyIjp7ImF1dG9ydW4iOnRydWUsImVjaG8iOmZhbHNlLCJlZGl0IjpmYWxzZSwiZXZhbCI6dHJ1ZX0sImNvZGUiOiIjIGRlZmluaXRpb25zIG9mIHN0b3J5Ym9vayBmdW5jdGlvbnNcblxuIyBldmVudHVhbGx5IHRoZXNlIHNob3VsZCBnbyBpbiBhIHBhY2thZ2UsIGxpa2Uge21vc2FpY0NhbGN9XG5vc2MgPC0gZnVuY3Rpb24odCkgc2luKDIqcGkqdClcbmhpbGxzaWRlIDwtIGZ1bmN0aW9uKHQpIHBub3JtKHQpXG5oaWxsIDwtIGZ1bmN0aW9uKHQpIGRub3JtKHQpXG5mbGF0IDwtIHVuaXR5IDwtIGZ1bmN0aW9uKHgpIDEuMFxuc3RlYWR5IDwtIGlkIDwtIGZ1bmN0aW9uKHgpIHhcbmRvdWJsZSA8LSBmdW5jdGlvbih0KSAyXnRcbmRvdWJsaW5ncyA8LSBmdW5jdGlvbih4KSBsb2cyKHgpXG5yZWNpcCA8LSBmdW5jdGlvbih4KSAxL3hcbm1hZ25pdHVkZSA8LSB0ZW5uaW5ncyA8LSBmdW5jdGlvbih4KSBsb2cxMCh4KVxudGVuX2ZvbGRzIDwtIGZ1bmN0aW9uKHgpIDEwXngifQ==
</script>
</div>
</div>
<div id="exr-fox-read-book" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 2</strong></span> The storybook functions <code>double()</code> and <code>doublings()</code> are related. Use the R chunk to explore them.</p>
<div class="cell" data-caption="Explore double() and doublings()">
<div>
<div id="webr-5" class="exercise-cell">

</div>
<script type="webr-5-contents">
eyJhdHRyIjp7ImNhcHRpb24iOiJFeHBsb3JlIGRvdWJsZSgpIGFuZCBkb3VibGluZ3MoKSIsImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiIyBIZXJlJ3MgYSBwbG90IG9mIGRvdWJsZSgpIHRvIGdldCB5b3Ugc3RhcnRlZC5cbnNsaWNlX3Bsb3QoZG91YmxlKHgpIH4geCwgZG9tYWluKHggPSAtMjo1KSlcblxuIyBZb3UgY2FuIGFsc28gbG9vayBhdCB0aGUgb3V0cHV0IG9mIGEgZnVuY3Rpb24gZm9yIGEgZ2l2ZW4gdmFsdWVcbmRvdWJsaW5ncygxMjgpIn0=
</script>
</div>
</div>
<ol type="1">
<li>What is <code>double(5)</code>?</li>
</ol>
<span> <small style="color: grey;" id="frb-double-5-hintarea" class="hintarea">frb-double-5</small>
<form id="frb-double-5-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="5" id="frb-double-5-1" w="23" name="frb-double-5" hint="Better luck next time." show_hints="false"> 5 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="10" id="frb-double-5-2" w="3" name="frb-double-5" hint="Think again." show_hints="false"> 10 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="16" id="frb-double-5-3" w="7" name="frb-double-5" hint="Wrong." show_hints="false"> 16 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="25" id="frb-double-5-4" w="23" name="frb-double-5" hint="Not quite right." show_hints="false"> 25 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="32" id="frb-double-5-5" w="14" name="frb-double-5" hint="Correct." show_hints="false"> 32 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="frb-double-5" id="frb-double-5.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for frb-double-5.');
      const form = document.getElementById('frb-double-5-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('frb-double-5-choice');
      if (savedValue) {
        console.log("Restoring radio button values for frb-double-5.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for frb-double-5.");
          localStorage.setItem('frb-double-5-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
<ol start="2" type="1">
<li>What is <code>double(-3)</code>?</li>
</ol>
<span> <small style="color: grey;" id="frb-double-neg-hintarea" class="hintarea">frb-double-neg</small>
<form id="frb-double-neg-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="-8" id="frb-double-neg-1" w="32" name="frb-double-neg" hint="Boo!" show_hints="false"> -8 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="-3" id="frb-double-neg-2" w="19" name="frb-double-neg" hint="Incorrect." show_hints="false"> -3 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="0.125" id="frb-double-neg-3" w="5" name="frb-double-neg" hint="Yes." show_hints="false"> 0.125 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="0.25" id="frb-double-neg-4" w="23" name="frb-double-neg" hint="Boo!" show_hints="false"> 0.25 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="3" id="frb-double-neg-5" w="87" name="frb-double-neg" hint="Think again." show_hints="false"> 3 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="frb-double-neg" id="frb-double-neg.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for frb-double-neg.');
      const form = document.getElementById('frb-double-neg-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('frb-double-neg-choice');
      if (savedValue) {
        console.log("Restoring radio button values for frb-double-neg.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for frb-double-neg.");
          localStorage.setItem('frb-double-neg-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
<ol start="3" type="1">
<li>What is <code>doublings(64)</code>?</li>
</ol>
<span> <small style="color: grey;" id="frb-doublings-64-hintarea" class="hintarea">frb-doublings-64</small>
<form id="frb-doublings-64-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="4" id="frb-doublings-64-1" w="23" name="frb-doublings-64" hint="Hmmm ..." show_hints="false"> 4 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="5" id="frb-doublings-64-2" w="3" name="frb-doublings-64" hint="You're wrong here." show_hints="false"> 5 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="6" id="frb-doublings-64-3" w="14" name="frb-doublings-64" hint="Nice." show_hints="false"> 6 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="7" id="frb-doublings-64-4" w="23" name="frb-doublings-64" hint="Oops!" show_hints="false"> 7 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="8" id="frb-doublings-64-5" w="19" name="frb-doublings-64" hint="Better luck next time." show_hints="false"> 8 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="frb-doublings-64" id="frb-doublings-64.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for frb-doublings-64.');
      const form = document.getElementById('frb-doublings-64-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('frb-doublings-64-choice');
      if (savedValue) {
        console.log("Restoring radio button values for frb-doublings-64.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for frb-doublings-64.");
          localStorage.setItem('frb-doublings-64-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
<ol start="4" type="1">
<li>What is <code>doublings(0.25)</code>?</li>
</ol>
<span> <small style="color: grey;" id="frb-doublings-quarter-hintarea" class="hintarea">frb-doublings-quarter</small>
<form id="frb-doublings-quarter-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="-4" id="frb-doublings-quarter-1" w="3" name="frb-doublings-quarter" hint="No." show_hints="false"> -4 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="-2" id="frb-doublings-quarter-2" w="8" name="frb-doublings-quarter" hint="Correct." show_hints="false"> -2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="-1" id="frb-doublings-quarter-3" w="19" name="frb-doublings-quarter" hint="No." show_hints="false"> -1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="0.25" id="frb-doublings-quarter-4" w="87" name="frb-doublings-quarter" hint="Boo!" show_hints="false"> 0.25 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="2" id="frb-doublings-quarter-5" w="7" name="frb-doublings-quarter" hint="Boo!" show_hints="false"> 2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="frb-doublings-quarter" id="frb-doublings-quarter.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for frb-doublings-quarter.');
      const form = document.getElementById('frb-doublings-quarter-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('frb-doublings-quarter-choice');
      if (savedValue) {
        console.log("Restoring radio button values for frb-doublings-quarter.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for frb-doublings-quarter.");
          localStorage.setItem('frb-doublings-quarter-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
<ol start="5" type="1">
<li>If <code>double(x)</code> outputs 256, what is <code>x</code>?</li>
</ol>
<span> <small style="color: grey;" id="frb-find-input-hintarea" class="hintarea">frb-find-input</small>
<form id="frb-find-input-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="4" id="frb-find-input-1" w="23" name="frb-find-input" hint="Not quite right." show_hints="false"> 4 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="6" id="frb-find-input-2" w="87" name="frb-find-input" hint="Incorrect." show_hints="false"> 6 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="8" id="frb-find-input-3" w="29" name="frb-find-input" hint="Correct." show_hints="false"> 8 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="16" id="frb-find-input-4" w="7" name="frb-find-input" hint="Untrue!" show_hints="false"> 16 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="128" id="frb-find-input-5" w="87" name="frb-find-input" hint="Not on target." show_hints="false"> 128 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="frb-find-input" id="frb-find-input.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for frb-find-input.');
      const form = document.getElementById('frb-find-input-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('frb-find-input-choice');
      if (savedValue) {
        console.log("Restoring radio button values for frb-find-input.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for frb-find-input.");
          localStorage.setItem('frb-find-input-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
<ol start="6" type="1">
<li>If <code>doublings(x)</code> outputs 5, what is <code>x</code>?</li>
</ol>
<span> <small style="color: grey;" id="frb-find-input-2-hintarea" class="hintarea">frb-find-input-2</small>
<form id="frb-find-input-2-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="5" id="frb-find-input-2-1" w="87" name="frb-find-input-2" hint="Not on target." show_hints="false"> 5 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="10" id="frb-find-input-2-2" w="3" name="frb-find-input-2" hint="Hmmm ..." show_hints="false"> 10 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="16" id="frb-find-input-2-3" w="3" name="frb-find-input-2" hint="Not on target." show_hints="false"> 16 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="25" id="frb-find-input-2-4" w="7" name="frb-find-input-2" hint="Think again." show_hints="false"> 25 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="32" id="frb-find-input-2-5" w="41" name="frb-find-input-2" hint="Score!" show_hints="false"> 32 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="frb-find-input-2" id="frb-find-input-2.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for frb-find-input-2.');
      const form = document.getElementById('frb-find-input-2-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('frb-find-input-2-choice');
      if (savedValue) {
        console.log("Restoring radio button values for frb-find-input-2.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for frb-find-input-2.");
          localStorage.setItem('frb-find-input-2-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
<ol start="7" type="1">
<li>What is <code>doublings(double(4))</code>?</li>
</ol>
<span> <small style="color: grey;" id="frb-compose-1-hintarea" class="hintarea">frb-compose-1</small>
<form id="frb-compose-1-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="2" id="frb-compose-1-1" w="19" name="frb-compose-1" hint="Sorry!" show_hints="false"> 2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="4" id="frb-compose-1-2" w="29" name="frb-compose-1" hint="Yes." show_hints="false"> 4 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="8" id="frb-compose-1-3" w="87" name="frb-compose-1" hint="Not on target." show_hints="false"> 8 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="16" id="frb-compose-1-4" w="23" name="frb-compose-1" hint="This is wide of the mark." show_hints="false"> 16 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="256" id="frb-compose-1-5" w="32" name="frb-compose-1" hint="Boo!" show_hints="false"> 256 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="frb-compose-1" id="frb-compose-1.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for frb-compose-1.');
      const form = document.getElementById('frb-compose-1-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('frb-compose-1-choice');
      if (savedValue) {
        console.log("Restoring radio button values for frb-compose-1.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for frb-compose-1.");
          localStorage.setItem('frb-compose-1-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
<ol start="8" type="1">
<li>What is <code>double(doublings(64))</code>?</li>
</ol>
<span> <small style="color: grey;" id="frb-compose-2-hintarea" class="hintarea">frb-compose-2</small>
<form id="frb-compose-2-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="6" id="frb-compose-2-1" w="7" name="frb-compose-2" hint="Oops!" show_hints="false"> 6 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="12" id="frb-compose-2-2" w="87" name="frb-compose-2" hint="Not so!" show_hints="false"> 12 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="32" id="frb-compose-2-3" w="32" name="frb-compose-2" hint="Think again." show_hints="false"> 32 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="64" id="frb-compose-2-4" w="16" name="frb-compose-2" hint="That's right." show_hints="false"> 64 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="4096" id="frb-compose-2-5" w="32" name="frb-compose-2" hint="You're wrong here." show_hints="false"> 4096 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="frb-compose-2" id="frb-compose-2.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for frb-compose-2.');
      const form = document.getElementById('frb-compose-2-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('frb-compose-2-choice');
      if (savedValue) {
        console.log("Restoring radio button values for frb-compose-2.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for frb-compose-2.");
          localStorage.setItem('frb-compose-2-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
<ol start="9" type="1">
<li>Based on questions 7 and 8, what is the relationship between <code>double()</code> and <code>doublings()</code>?</li>
</ol>
<div class="cell">
<span> <small style="color: grey;" id="frb-inverse-hintarea" class="hintarea">frb-inverse</small>
<form id="frb-inverse-form">
<p>
</p><p><input type="radio" class="devoirs-mcq" value="They alway ... ame output" id="frb-inverse-1" w="3" name="frb-inverse" hint="You might think so, but ..." show_hints="false"> They always give the same output</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="They are i ...  the other" id="frb-inverse-2" w="5" name="frb-inverse" hint="Yup!" show_hints="false"> They are inverses—each undoes the other</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="One is alw ...  the other" id="frb-inverse-3" w="32" name="frb-inverse" hint="Think again." show_hints="false"> One is always twice the other</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="They have  ... lationship" id="frb-inverse-4" w="7" name="frb-inverse" hint="Not so!" show_hints="false"> They have no particular relationship</p>
<p></p>
<input type="radio" class="devoirs-mcq" name="frb-inverse" id="frb-inverse.null" style="display: none;" w="skipped" checked="">
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for frb-inverse.');
      const form = document.getElementById('frb-inverse-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('frb-inverse-choice');
      if (savedValue) {
        console.log("Restoring radio button values for frb-inverse.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for frb-inverse.");
          localStorage.setItem('frb-inverse-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
</span></span></span></span></span></span></span></span></div>
<p><!-- end of exr-fox-read-book --></p>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell" data-autorun="true">
<div>
<div id="webr-6" class="exercise-cell">

</div>
<script type="webr-6-contents">
eyJhdHRyIjp7ImF1dG9ydW4iOnRydWUsImVjaG8iOmZhbHNlLCJlZGl0IjpmYWxzZSwiZXZhbCI6dHJ1ZX0sImNvZGUiOiIjIGRlZmluaXRpb25zIG9mIHN0b3J5Ym9vayBmdW5jdGlvbnNcblxuIyBldmVudHVhbGx5IHRoZXNlIHNob3VsZCBnbyBpbiBhIHBhY2thZ2UsIGxpa2Uge21vc2FpY0NhbGN9XG5vc2MgPC0gZnVuY3Rpb24odCkgc2luKDIqcGkqdClcbmhpbGxzaWRlIDwtIGZ1bmN0aW9uKHQpIHBub3JtKHQpXG5oaWxsIDwtIGZ1bmN0aW9uKHQpIGRub3JtKHQpXG5mbGF0IDwtIHVuaXR5IDwtIGZ1bmN0aW9uKHgpIDEuMFxuc3RlYWR5IDwtIGlkIDwtIGZ1bmN0aW9uKHgpIHhcbmRvdWJsZSA8LSBmdW5jdGlvbih0KSAyXnRcbmRvdWJsaW5ncyA8LSBmdW5jdGlvbih4KSBsb2cyKHgpXG5yZWNpcCA8LSBmdW5jdGlvbih4KSAxL3hcbm1hZ25pdHVkZSA8LSB0ZW5uaW5ncyA8LSBmdW5jdGlvbih4KSBsb2cxMCh4KVxudGVuX2ZvbGRzIDwtIGZ1bmN0aW9uKHgpIDEwXngifQ==
</script>
</div>
</div>
<div id="exr-squirrel-gather-nuts" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 3</strong></span> Both <code>recip(x)</code> and <code>double(-x)</code> produce outputs that <em>decrease</em> as the input increases. But they model fundamentally different processes. This exercise will help you discover the difference.</p>
<div class="cell" data-caption="A space for scratch work">
<div>
<div id="webr-7" class="exercise-cell">

</div>
<script type="webr-7-contents">
eyJhdHRyIjp7ImNhcHRpb24iOiJBIHNwYWNlIGZvciBzY3JhdGNoIHdvcmsiLCJlZGl0Ijp0cnVlLCJldmFsIjp0cnVlfSwiY29kZSI6IiMgSGVyZSdzIGEgcGxvdCBvZiBkb3VibGUoLXgpIHRvIGdldCB5b3Ugc3RhcnRlZC5cbnNsaWNlX3Bsb3QoZG91YmxlKC14KSB+IHgsIGRvbWFpbih4ID0gLTI6NSkpIn0=
</script>
</div>
</div>
<p><strong>Scenario A — Sharing Pizza</strong></p>
<p>A pizza has 24 slices. The more people who share it, the fewer slices each person gets.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>People</th>
<th>Slices per person</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>24</td>
</tr>
<tr class="even">
<td>2</td>
<td>12</td>
</tr>
<tr class="odd">
<td>3</td>
<td>8</td>
</tr>
<tr class="even">
<td>4</td>
<td>6</td>
</tr>
<tr class="odd">
<td>6</td>
<td>4</td>
</tr>
<tr class="even">
<td>8</td>
<td>3</td>
</tr>
</tbody>
</table>
<p><strong>Scenario B — Radioactive Decay</strong></p>
<p>A sample starts with 100 grams of a radioactive isotope. Each year, exactly half of the remaining material decays.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Years passed</th>
<th>Grams remaining</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>100</td>
</tr>
<tr class="even">
<td>1</td>
<td>50</td>
</tr>
<tr class="odd">
<td>2</td>
<td>25</td>
</tr>
<tr class="even">
<td>3</td>
<td>12.5</td>
</tr>
<tr class="odd">
<td>4</td>
<td>6.25</td>
</tr>
</tbody>
</table>
<hr>
<p><strong>Part 1: Noticing the Pattern</strong></p>
<ol type="1">
<li>In Scenario A (pizza), if the number of people <em>doubles</em> from 3 to 6, what happens to slices per person?</li>
</ol>
<div class="cell" data-inline="true">
<span> <small style="color: grey;" id="sgn-pizza-double-hintarea" class="hintarea">sgn-pizza-double</small>
<form id="sgn-pizza-double-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="It doubles" id="sgn-pizza-double-1" w="23" name="sgn-pizza-double" hint="Oops!" show_hints="false"> It doubles &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="It is cut in half" id="sgn-pizza-double-2" w="5" name="sgn-pizza-double" hint="Bingo!" show_hints="false"> It is cut in half &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="It decreases by 4" id="sgn-pizza-double-3" w="3" name="sgn-pizza-double" hint="Wrong." show_hints="false"> It decreases by 4 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="It stays the same" id="sgn-pizza-double-4" w="87" name="sgn-pizza-double" hint="Incorrect choice." show_hints="false"> It stays the same &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="sgn-pizza-double" id="sgn-pizza-double.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for sgn-pizza-double.');
      const form = document.getElementById('sgn-pizza-double-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('sgn-pizza-double-choice');
      if (savedValue) {
        console.log("Restoring radio button values for sgn-pizza-double.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for sgn-pizza-double.");
          localStorage.setItem('sgn-pizza-double-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<ol start="2" type="1">
<li>In Scenario A (pizza), if the number of people increases by 1 (from 3 to 4), what happens to slices per person?</li>
</ol>
<div class="cell" data-inline="true">
<span> <small style="color: grey;" id="sgn-pizza-add-one-hintarea" class="hintarea">sgn-pizza-add-one</small>
<form id="sgn-pizza-add-one-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="It is cut in half" id="sgn-pizza-add-one-1" w="7" name="sgn-pizza-add-one" hint="Boo!" show_hints="false"> It is cut in half &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="It decreases by 2" id="sgn-pizza-add-one-2" w="29" name="sgn-pizza-add-one" hint="Yup!" show_hints="false"> It decreases by 2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="It decreas ... tor of 4/3" id="sgn-pizza-add-one-3" w="3" name="sgn-pizza-add-one" hint="You're mistaken" show_hints="false"> It decreases by a factor of 4/3 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="It stays the same" id="sgn-pizza-add-one-4" w="23" name="sgn-pizza-add-one" hint="This is wide of the mark." show_hints="false"> It stays the same &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="sgn-pizza-add-one" id="sgn-pizza-add-one.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for sgn-pizza-add-one.');
      const form = document.getElementById('sgn-pizza-add-one-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('sgn-pizza-add-one-choice');
      if (savedValue) {
        console.log("Restoring radio button values for sgn-pizza-add-one.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for sgn-pizza-add-one.");
          localStorage.setItem('sgn-pizza-add-one-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<ol start="3" type="1">
<li>In Scenario B (radioactive decay), if you wait <em>one more year</em> (from year 2 to year 3), what happens to the amount remaining?</li>
</ol>
<div class="cell" data-inline="true">
<span> <small style="color: grey;" id="sgn-decay-one-more-hintarea" class="hintarea">sgn-decay-one-more</small>
<form id="sgn-decay-one-more-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="It doubles" id="sgn-decay-one-more-1" w="23" name="sgn-decay-one-more" hint="Untrue!" show_hints="false"> It doubles &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="It is cut in half" id="sgn-decay-one-more-2" w="18" name="sgn-decay-one-more" hint="Right." show_hints="false"> It is cut in half &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="It decreas ... es by 12.5" id="sgn-decay-one-more-3" w="19" name="sgn-decay-one-more" hint="You're mistaken" show_hints="false"> It decreases by 12.5 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="It decreases by 25" id="sgn-decay-one-more-4" w="3" name="sgn-decay-one-more" hint="Not quite right." show_hints="false"> It decreases by 25 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="sgn-decay-one-more" id="sgn-decay-one-more.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for sgn-decay-one-more.');
      const form = document.getElementById('sgn-decay-one-more-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('sgn-decay-one-more-choice');
      if (savedValue) {
        console.log("Restoring radio button values for sgn-decay-one-more.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for sgn-decay-one-more.");
          localStorage.setItem('sgn-decay-one-more-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<ol start="4" type="1">
<li>In Scenario B (radioactive decay), if you wait <em>two more years</em> (from year 1 to year 3), what happens to the amount remaining?</li>
</ol>
<div class="cell" data-inline="true">
<span> <small style="color: grey;" id="sgn-decay-two-more-hintarea" class="hintarea">sgn-decay-two-more</small>
<form id="sgn-decay-two-more-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="It is cut in half" id="sgn-decay-two-more-1" w="19" name="sgn-decay-two-more" hint="You might think so, but ..." show_hints="false"> It is cut in half &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="It is cut  ... ne quarter" id="sgn-decay-two-more-2" w="5" name="sgn-decay-two-more" hint="You're right." show_hints="false"> It is cut to one quarter &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="It decreas ... es by 37.5" id="sgn-decay-two-more-3" w="23" name="sgn-decay-two-more" hint="Not quite." show_hints="false"> It decreases by 37.5 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="It is cut  ...  one third" id="sgn-decay-two-more-4" w="19" name="sgn-decay-two-more" hint="Not quite." show_hints="false"> It is cut to one third &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="sgn-decay-two-more" id="sgn-decay-two-more.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for sgn-decay-two-more.');
      const form = document.getElementById('sgn-decay-two-more-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('sgn-decay-two-more-choice');
      if (savedValue) {
        console.log("Restoring radio button values for sgn-decay-two-more.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for sgn-decay-two-more.");
          localStorage.setItem('sgn-decay-two-more-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<hr>
<p><strong>Part 2: The Key Distinction</strong></p>
<ol start="5" type="1">
<li>In Scenario A, what causes the output to be cut in half?</li>
</ol>
<div class="cell">
<span> <small style="color: grey;" id="sgn-trigger-a-hintarea" class="hintarea">sgn-trigger-a</small>
<form id="sgn-trigger-a-form">
<p>
</p><p><input type="radio" class="devoirs-mcq" value="Doubling the input" id="sgn-trigger-a-1" w="18" name="sgn-trigger-a" hint="Right-O!" show_hints="false"> Doubling the input</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="Adding 1 t ...  the input" id="sgn-trigger-a-2" w="7" name="sgn-trigger-a" hint="Incorrect." show_hints="false"> Adding 1 to the input</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="Waiting on ... ime period" id="sgn-trigger-a-3" w="3" name="sgn-trigger-a" hint="You're mistaken" show_hints="false"> Waiting one time period</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="Subtractin ... the output" id="sgn-trigger-a-4" w="23" name="sgn-trigger-a" hint="Better luck next time." show_hints="false"> Subtracting half from the output</p>
<p></p>
<input type="radio" class="devoirs-mcq" name="sgn-trigger-a" id="sgn-trigger-a.null" style="display: none;" w="skipped" checked="">
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for sgn-trigger-a.');
      const form = document.getElementById('sgn-trigger-a-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('sgn-trigger-a-choice');
      if (savedValue) {
        console.log("Restoring radio button values for sgn-trigger-a.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for sgn-trigger-a.");
          localStorage.setItem('sgn-trigger-a-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<ol start="6" type="1">
<li>In Scenario B, what causes the output to be cut in half?</li>
</ol>
<div class="cell">
<span> <small style="color: grey;" id="sgn-trigger-b-hintarea" class="hintarea">sgn-trigger-b</small>
<form id="sgn-trigger-b-form">
<p>
</p><p><input type="radio" class="devoirs-mcq" value="Doubling the input" id="sgn-trigger-b-1" w="19" name="sgn-trigger-b" hint="Not quite right." show_hints="false"> Doubling the input</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="Adding 1 t ...  the input" id="sgn-trigger-b-2" w="35" name="sgn-trigger-b" hint="Yeah!" show_hints="false"> Adding 1 to the input</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="Multiplyin ...  by itself" id="sgn-trigger-b-3" w="32" name="sgn-trigger-b" hint="Boo!" show_hints="false"> Multiplying the input by itself</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="Subtractin ... the output" id="sgn-trigger-b-4" w="19" name="sgn-trigger-b" hint="Incorrect." show_hints="false"> Subtracting half from the output</p>
<p></p>
<input type="radio" class="devoirs-mcq" name="sgn-trigger-b" id="sgn-trigger-b.null" style="display: none;" w="skipped" checked="">
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for sgn-trigger-b.');
      const form = document.getElementById('sgn-trigger-b-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('sgn-trigger-b-choice');
      if (savedValue) {
        console.log("Restoring radio button values for sgn-trigger-b.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for sgn-trigger-b.");
          localStorage.setItem('sgn-trigger-b-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<ol start="7" type="1">
<li>Which statement best captures the difference between <code>recip</code> and <code>double(-x)</code>?</li>
</ol>
<div class="cell">
<span> <small style="color: grey;" id="sgn-key-difference-hintarea" class="hintarea">sgn-key-difference</small>
<form id="sgn-key-difference-form">
<p>
</p><p><input type="radio" class="devoirs-mcq" value="recip decr ...  increases" id="sgn-key-difference-1" w="3" name="sgn-key-difference" hint="You're wrong here." show_hints="false"> recip decreases and double(-x) increases</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="recip is f ... ge numbers" id="sgn-key-difference-2" w="23" name="sgn-key-difference" hint="No." show_hints="false"> recip is for small numbers, double(-x) is for large numbers</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="recip: &quot;do ... es output&quot;" id="sgn-key-difference-3" w="16" name="sgn-key-difference" hint="You're right." show_hints="false"> recip: “doubling input halves output” vs double(-x): “each unit of input halves output”</p>
<p></p>
<p>
</p><p><input type="radio" class="devoirs-mcq" value="They are m ... e function" id="sgn-key-difference-4" w="87" name="sgn-key-difference" hint="Oops!" show_hints="false"> They are mathematically the same function</p>
<p></p>
<input type="radio" class="devoirs-mcq" name="sgn-key-difference" id="sgn-key-difference.null" style="display: none;" w="skipped" checked="">
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for sgn-key-difference.');
      const form = document.getElementById('sgn-key-difference-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('sgn-key-difference-choice');
      if (savedValue) {
        console.log("Restoring radio button values for sgn-key-difference.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for sgn-key-difference.");
          localStorage.setItem('sgn-key-difference-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<hr>
<p><strong>Part 3: Apply Your Understanding</strong></p>
<p>For each scenario, decide which type of relationship it represents.</p>
<ol start="8" type="1">
<li><strong>Splitting a bill</strong>: If 3 friends split a $90 bill, each pays $30. If 6 friends split it, each pays $15.</li>
</ol>
<div class="cell" data-inline="true">
<span> <small style="color: grey;" id="sgn-apply-bill-hintarea" class="hintarea">sgn-apply-bill</small>
<form id="sgn-apply-bill-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="recip" id="sgn-apply-bill-1" w="5" name="sgn-apply-bill" hint="You're right." show_hints="false"> recip &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="double(-x)" id="sgn-apply-bill-2" w="3" name="sgn-apply-bill" hint="Better luck next time." show_hints="false"> double(-x) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="sgn-apply-bill" id="sgn-apply-bill.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for sgn-apply-bill.');
      const form = document.getElementById('sgn-apply-bill-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('sgn-apply-bill-choice');
      if (savedValue) {
        console.log("Restoring radio button values for sgn-apply-bill.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for sgn-apply-bill.");
          localStorage.setItem('sgn-apply-bill-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<ol start="9" type="1">
<li><strong>Medicine metabolism</strong>: A drug’s concentration drops by half every 4 hours.</li>
</ol>
<div class="cell" data-inline="true">
<span> <small style="color: grey;" id="sgn-apply-medicine-hintarea" class="hintarea">sgn-apply-medicine</small>
<form id="sgn-apply-medicine-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="recip" id="sgn-apply-medicine-1" w="87" name="sgn-apply-medicine" hint="Incorrect choice." show_hints="false"> recip &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="double(-x)" id="sgn-apply-medicine-2" w="5" name="sgn-apply-medicine" hint="Yes." show_hints="false"> double(-x) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="sgn-apply-medicine" id="sgn-apply-medicine.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for sgn-apply-medicine.');
      const form = document.getElementById('sgn-apply-medicine-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('sgn-apply-medicine-choice');
      if (savedValue) {
        console.log("Restoring radio button values for sgn-apply-medicine.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for sgn-apply-medicine.");
          localStorage.setItem('sgn-apply-medicine-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<ol start="10" type="1">
<li><strong>Travel time</strong>: Driving 120 miles at 30 mph takes 4 hours. At 60 mph it takes 2 hours. At 120 mph it takes 1 hour.</li>
</ol>
<div class="cell" data-inline="true">
<span> <small style="color: grey;" id="sgn-apply-travel-hintarea" class="hintarea">sgn-apply-travel</small>
<form id="sgn-apply-travel-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="recip" id="sgn-apply-travel-1" w="8" name="sgn-apply-travel" hint="Spot on!" show_hints="false"> recip &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="double(-x)" id="sgn-apply-travel-2" w="7" name="sgn-apply-travel" hint="Sorry!" show_hints="false"> double(-x) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="sgn-apply-travel" id="sgn-apply-travel.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for sgn-apply-travel.');
      const form = document.getElementById('sgn-apply-travel-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('sgn-apply-travel-choice');
      if (savedValue) {
        console.log("Restoring radio button values for sgn-apply-travel.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for sgn-apply-travel.");
          localStorage.setItem('sgn-apply-travel-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<ol start="11" type="1">
<li><strong>Depreciation</strong>: A car loses 15% of its current value each year.</li>
</ol>
<div class="cell" data-inline="true">
<span> <small style="color: grey;" id="sgn-apply-depreciation-hintarea" class="hintarea">sgn-apply-depreciation</small>
<form id="sgn-apply-depreciation-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="recip" id="sgn-apply-depreciation-1" w="87" name="sgn-apply-depreciation" hint="Nope." show_hints="false"> recip &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="double(-x)" id="sgn-apply-depreciation-2" w="29" name="sgn-apply-depreciation" hint="Right!" show_hints="false"> double(-x) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="sgn-apply-depreciation" id="sgn-apply-depreciation.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for sgn-apply-depreciation.');
      const form = document.getElementById('sgn-apply-depreciation-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('sgn-apply-depreciation-choice');
      if (savedValue) {
        console.log("Restoring radio button values for sgn-apply-depreciation.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for sgn-apply-depreciation.");
          localStorage.setItem('sgn-apply-depreciation-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<ol start="12" type="1">
<li><strong>Resolution</strong>: A printer’s ink cartridge can print 1000 pages. If you print 250 photos (each uses 4 pages worth of ink), you can print 0 photos. But if you print smaller photos using 2 pages of ink each, you can print 500.</li>
</ol>
<div class="cell" data-inline="true">
<span> <small style="color: grey;" id="sgn-apply-printer-hintarea" class="hintarea">sgn-apply-printer</small>
<form id="sgn-apply-printer-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="recip" id="sgn-apply-printer-1" w="16" name="sgn-apply-printer" hint="You're right!" show_hints="false"> recip &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="double(-x)" id="sgn-apply-printer-2" w="3" name="sgn-apply-printer" hint="Wrong." show_hints="false"> double(-x) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="sgn-apply-printer" id="sgn-apply-printer.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for sgn-apply-printer.');
      const form = document.getElementById('sgn-apply-printer-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('sgn-apply-printer-choice');
      if (savedValue) {
        console.log("Restoring radio button values for sgn-apply-printer.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for sgn-apply-printer.");
          localStorage.setItem('sgn-apply-printer-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
</div>
<p><!-- end of exr-squirrel-gather-nuts --></p>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div class="cell" data-autorun="true">
<div>
<div id="webr-8" class="exercise-cell">

</div>
<script type="webr-8-contents">
eyJhdHRyIjp7ImF1dG9ydW4iOnRydWUsImVjaG8iOmZhbHNlLCJlZGl0IjpmYWxzZSwiZXZhbCI6dHJ1ZX0sImNvZGUiOiIjIGRlZmluaXRpb25zIG9mIHN0b3J5Ym9vayBmdW5jdGlvbnNcblxuIyBldmVudHVhbGx5IHRoZXNlIHNob3VsZCBnbyBpbiBhIHBhY2thZ2UsIGxpa2Uge21vc2FpY0NhbGN9XG5vc2MgPC0gZnVuY3Rpb24odCkgc2luKDIqcGkqdClcbmhpbGxzaWRlIDwtIGZ1bmN0aW9uKHQpIHBub3JtKHQpXG5oaWxsIDwtIGZ1bmN0aW9uKHQpIGRub3JtKHQpXG5mbGF0IDwtIHVuaXR5IDwtIGZ1bmN0aW9uKHgpIDEuMFxuc3RlYWR5IDwtIGlkIDwtIGZ1bmN0aW9uKHgpIHhcbmRvdWJsZSA8LSBmdW5jdGlvbih0KSAyXnRcbmRvdWJsaW5ncyA8LSBmdW5jdGlvbih4KSBsb2cyKHgpXG5yZWNpcCA8LSBmdW5jdGlvbih4KSAxL3hcbm1hZ25pdHVkZSA8LSB0ZW5uaW5ncyA8LSBmdW5jdGlvbih4KSBsb2cxMCh4KVxudGVuX2ZvbGRzIDwtIGZ1bmN0aW9uKHgpIDEwXngifQ==
</script>
</div>
</div>
<div id="exr-rabbit-plant-garden" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 4</strong></span> This exercise focuses on <strong>input and output transformations</strong>—the technique for adapting storybook functions to model real-world data.</p>
<p><strong>The setup:</strong> You’re modeling the spread of a viral video. The data shows:</p>
<ul>
<li>At week 0, essentially no one had seen it (views ≈ 0)</li>
<li>By week 10, about half of the eventual maximum viewers had seen it</li>
<li>By week 20, views had essentially plateaued at 2 million</li>
</ul>
<p>The <code>hillside()</code> function naturally outputs ≈ 0 for large negative inputs, 0.5 when input = 0, and ≈ 1 for large positive inputs.</p>
<div class="cell" data-caption="Use this space to explore, build your model, and do any necessary calculations. (Try doing arithmetic here too, for example `(5*2)/2`)">
<div>
<div id="webr-9" class="exercise-cell">

</div>
<script type="webr-9-contents">
eyJhdHRyIjp7ImNhcHRpb24iOiJVc2UgdGhpcyBzcGFjZSB0byBleHBsb3JlLCBidWlsZCB5b3VyIG1vZGVsLCBhbmQgZG8gYW55IG5lY2Vzc2FyeSBjYWxjdWxhdGlvbnMuIChUcnkgZG9pbmcgYXJpdGhtZXRpYyBoZXJlIHRvbywgZm9yIGV4YW1wbGUgYCg1KjIpLzJgKSIsImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiIyBIZXJlJ3MgaGlsbHNpZGUoKSBwbG90dGVkIG92ZXIgaXRzIG5hdHVyYWwgZG9tYWluOlxuc2xpY2VfcGxvdChoaWxsc2lkZSh4KSB+IHgsIGRvbWFpbih4ID0gLTU6NSkpIn0=
</script>
</div>
</div>
<p><strong>Part A: Input transformation</strong></p>
<p>The input transformation has the form <span class="math inline">\(a(q - q_0)\)</span> where <span class="math inline">\(q\)</span> is the real-world input (weeks).</p>
<ol type="1">
<li>What is the horizontal shift <span class="math inline">\(q_0\)</span>? (At what week should <code>hillside()</code> output 0.5?)</li>
</ol>
<span> <small style="color: grey;" id="rpg-q0-hintarea" class="hintarea">rpg-q0</small>
<form id="rpg-q0-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="0" id="rpg-q0-1" w="3" name="rpg-q0" hint="You're wrong here." show_hints="false"> 0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="0.5" id="rpg-q0-2" w="3" name="rpg-q0" hint="Incorrect." show_hints="false"> 0.5 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="5" id="rpg-q0-3" w="23" name="rpg-q0" hint="Better luck next time." show_hints="false"> 5 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="10" id="rpg-q0-4" w="16" name="rpg-q0" hint="Correct." show_hints="false"> 10 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="20" id="rpg-q0-5" w="3" name="rpg-q0" hint="Not quite." show_hints="false"> 20 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="rpg-q0" id="rpg-q0.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for rpg-q0.');
      const form = document.getElementById('rpg-q0-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('rpg-q0-choice');
      if (savedValue) {
        console.log("Restoring radio button values for rpg-q0.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for rpg-q0.");
          localStorage.setItem('rpg-q0-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
<ol start="2" type="1">
<li>We want <code>hillside()</code> to output ≈ 1 around week 20 and ≈ 0 at week 0. For the output to be nearly 1, the input to <code>hillside()</code> should be around +5. Given <span class="math inline">\(q_0 = 10\)</span>, solve for <span class="math inline">\(a\)</span> in: <span class="math inline">\(a(20 - 10) = 5\)</span></li>
</ol>
<span> <small style="color: grey;" id="rpg-a-hintarea" class="hintarea">rpg-a</small>
<form id="rpg-a-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="0.1" id="rpg-a-1" w="19" name="rpg-a" hint="No." show_hints="false"> 0.1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="0.2" id="rpg-a-2" w="19" name="rpg-a" hint="No." show_hints="false"> 0.2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="0.5" id="rpg-a-3" w="14" name="rpg-a" hint="Certainly." show_hints="false"> 0.5 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="1" id="rpg-a-4" w="23" name="rpg-a" hint="Think again." show_hints="false"> 1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="2" id="rpg-a-5" w="3" name="rpg-a" hint="Hmmm ..." show_hints="false"> 2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="rpg-a" id="rpg-a.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for rpg-a.');
      const form = document.getElementById('rpg-a-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('rpg-a-choice');
      if (savedValue) {
        console.log("Restoring radio button values for rpg-a.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for rpg-a.");
          localStorage.setItem('rpg-a-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
<ol start="3" type="1">
<li>What are the units of <span class="math inline">\(a\)</span>?</li>
</ol>
<div class="cell" data-inline="true">
<span> <small style="color: grey;" id="rpg-a-units-hintarea" class="hintarea">rpg-a-units</small>
<form id="rpg-a-units-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="weeks" id="rpg-a-units-1" w="23" name="rpg-a-units" hint="Wrong." show_hints="false"> weeks &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="per week" id="rpg-a-units-2" w="35" name="rpg-a-units" hint="Spot on!" show_hints="false"> per week &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="views" id="rpg-a-units-3" w="7" name="rpg-a-units" hint="Wrong." show_hints="false"> views &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="dimensionless" id="rpg-a-units-4" w="87" name="rpg-a-units" hint="Not quite." show_hints="false"> dimensionless &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="rpg-a-units" id="rpg-a-units.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for rpg-a-units.');
      const form = document.getElementById('rpg-a-units-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('rpg-a-units-choice');
      if (savedValue) {
        console.log("Restoring radio button values for rpg-a-units.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for rpg-a-units.");
          localStorage.setItem('rpg-a-units-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<p><strong>Part B: Output transformation</strong></p>
<p>The output transformation has the form <span class="math inline">\(A \cdot \text{hillside}(\ldots) + B\)</span>.</p>
<ol start="4" type="1">
<li>What is the vertical scaling <span class="math inline">\(A\)</span>? (What value scales the output from 0–1 to 0–2,000,000?)</li>
</ol>
<span> <small style="color: grey;" id="rpg-A-hintarea" class="hintarea">rpg-A</small>
<form id="rpg-A-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="1" id="rpg-A-1" w="23" name="rpg-A" hint="You're wrong here." show_hints="false"> 1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="1000" id="rpg-A-2" w="23" name="rpg-A" hint="Incorrect." show_hints="false"> 1000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="1e+06" id="rpg-A-3" w="3" name="rpg-A" hint="Not so!" show_hints="false"> 1e+06 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="2e+06" id="rpg-A-4" w="5" name="rpg-A" hint="Right!" show_hints="false"> 2e+06 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="rpg-A" id="rpg-A.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for rpg-A.');
      const form = document.getElementById('rpg-A-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('rpg-A-choice');
      if (savedValue) {
        console.log("Restoring radio button values for rpg-A.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for rpg-A.");
          localStorage.setItem('rpg-A-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
<ol start="5" type="1">
<li>What are the units of <span class="math inline">\(A\)</span>?</li>
</ol>
<div class="cell" data-inline="true">
<span> <small style="color: grey;" id="rpg-A-units-hintarea" class="hintarea">rpg-A-units</small>
<form id="rpg-A-units-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="weeks" id="rpg-A-units-1" w="3" name="rpg-A-units" hint="You might think so, but ..." show_hints="false"> weeks &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="per week" id="rpg-A-units-2" w="7" name="rpg-A-units" hint="Not so!" show_hints="false"> per week &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="views" id="rpg-A-units-3" w="29" name="rpg-A-units" hint="That's right." show_hints="false"> views &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="dimensionless" id="rpg-A-units-4" w="3" name="rpg-A-units" hint="No." show_hints="false"> dimensionless &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="rpg-A-units" id="rpg-A-units.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for rpg-A-units.');
      const form = document.getElementById('rpg-A-units-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('rpg-A-units-choice');
      if (savedValue) {
        console.log("Restoring radio button values for rpg-A-units.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for rpg-A-units.");
          localStorage.setItem('rpg-A-units-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
</span></div>
<p><strong>Part C: Build and test the model</strong></p>
<ol start="6" type="1">
<li>Define your transformation parameters and plot the model. Fill in the values for <code>a</code>, <code>q0</code>, and <code>A</code>.</li>
</ol>
<p><em>In R, you define a variable with <code>&lt;-</code> (the assignment arrow). For example: <code>x &lt;- 5</code> stores the value 5 in a variable named x.</em></p>
<div class="cell" data-caption="Define parameters and plot">
<div>
<div id="webr-10" class="exercise-cell">

</div>
<script type="webr-10-contents">
eyJhdHRyIjp7ImNhcHRpb24iOiJEZWZpbmUgcGFyYW1ldGVycyBhbmQgcGxvdCIsImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiIyBEZWZpbmUgdGhlIHRyYW5zZm9ybWF0aW9uIHBhcmFtZXRlcnMgKHJlcGxhY2UgX19fIHdpdGggeW91ciB2YWx1ZXMpXG5hIDwtIF9fXyAgICAgIyBpbnB1dCBzY2FsaW5nIChwZXIgd2VlaylcbnEwIDwtIF9fXyAgICAjIGhvcml6b250YWwgc2hpZnQgKHdlZWtzKSBcbkEgPC0gX19fICAgICAjIHZlcnRpY2FsIHNjYWxpbmcgKHZpZXdzKVxuXG4jIFBsb3QgdGhlIG1vZGVsXG5zbGljZV9wbG90KEEgKiBoaWxsc2lkZShhICogKHdlZWsgLSBxMCkpIH4gd2VlaywgXG4gICAgICAgICAgIGRvbWFpbih3ZWVrID0gMDoyNSkpIHw+XG4gIGdmX2xhYnMoeSA9IFwiVmlld3NcIiwgeCA9IFwiV2Vla1wiKSJ9
</script>
</div>
</div>
<ol start="7" type="1">
<li>According to your model, approximately how many views would there be at week 5?</li>
</ol>
<span> <small style="color: grey;" id="rpg-week5-hintarea" class="hintarea">rpg-week5</small>
<form id="rpg-week5-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="about 13,000" id="rpg-week5-1" w="3" name="rpg-week5" hint="Not so!" show_hints="false"> about 13,000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="about 150,000" id="rpg-week5-2" w="41" name="rpg-week5" hint="Excellent!" show_hints="false"> about 150,000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="about 500,000" id="rpg-week5-3" w="87" name="rpg-week5" hint="Incorrect choice." show_hints="false"> about 500,000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="about 1,000,000" id="rpg-week5-4" w="19" name="rpg-week5" hint="Think again." show_hints="false"> about 1,000,000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="rpg-week5" id="rpg-week5.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for rpg-week5.');
      const form = document.getElementById('rpg-week5-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('rpg-week5-choice');
      if (savedValue) {
        console.log("Restoring radio button values for rpg-week5.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for rpg-week5.");
          localStorage.setItem('rpg-week5-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
<ol start="8" type="1">
<li><strong>Model limitations:</strong> What aspects of real viral video spread does this model fail to capture? Consider factors like the initial launch, word-of-mouth dynamics, platform algorithms, or what happens after the “plateau.”</li>
</ol>
<script type="text/javascript">
      //save entered info
      document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for rpg-limitations.');
      const form = document.getElementById('rpg-limitations');
      form.addEventListener("input", function () {
        var todo = document.getElementById('rpg-limitations').value;
        localStorage.setItem("rpg-limitations-contents", todo);
        console.log("Saving value of rpg-limitations.")
      }, false);

      //on page load, read in the old value
      const savedValue = localStorage.getItem("rpg-limitations-contents");
      if (savedValue) {
        document.getElementById('rpg-limitations').value = savedValue;
      }
})
</script>
<textarea id="rpg-limitations" name="rpg-limitations" class="devoirs-text" style="font-family: monospace, monospace;" rows="3" cols="50" placeholder="Type here. (ID rpg-limitations)"></textarea>
</span></span></span></span></div>
<p><!-- end of exr-rabbit-plant-garden --></p>
</div>
<div id="tabset-2-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-5-tab">
<div class="cell" data-autorun="true">
<div>
<div id="webr-11" class="exercise-cell">

</div>
<script type="webr-11-contents">
eyJhdHRyIjp7ImF1dG9ydW4iOnRydWUsImVjaG8iOmZhbHNlLCJlZGl0IjpmYWxzZSwiZXZhbCI6dHJ1ZX0sImNvZGUiOiIjIGRlZmluaXRpb25zIG9mIHN0b3J5Ym9vayBmdW5jdGlvbnNcblxuIyBldmVudHVhbGx5IHRoZXNlIHNob3VsZCBnbyBpbiBhIHBhY2thZ2UsIGxpa2Uge21vc2FpY0NhbGN9XG5vc2MgPC0gZnVuY3Rpb24odCkgc2luKDIqcGkqdClcbmhpbGxzaWRlIDwtIGZ1bmN0aW9uKHQpIHBub3JtKHQpXG5oaWxsIDwtIGZ1bmN0aW9uKHQpIGRub3JtKHQpXG5mbGF0IDwtIHVuaXR5IDwtIGZ1bmN0aW9uKHgpIDEuMFxuc3RlYWR5IDwtIGlkIDwtIGZ1bmN0aW9uKHgpIHhcbmRvdWJsZSA8LSBmdW5jdGlvbih0KSAyXnRcbmRvdWJsaW5ncyA8LSBmdW5jdGlvbih4KSBsb2cyKHgpXG5yZWNpcCA8LSBmdW5jdGlvbih4KSAxL3hcbm1hZ25pdHVkZSA8LSB0ZW5uaW5ncyA8LSBmdW5jdGlvbih4KSBsb2cxMCh4KVxudGVuX2ZvbGRzIDwtIGZ1bmN0aW9uKHgpIDEwXngifQ==
</script>
</div>
</div>
<div id="exr-owl-watch-sunset" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 5</strong></span> <strong>Time-of-Use Electricity Pricing</strong></p>
<p>Your electric utility charges different rates depending on the time of day. You want to model the price so you can decide when to charge your electric vehicle, run the dishwasher, or do laundry.</p>
<p>The utility publishes sample rates at several times of day:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Time of day</th>
<th>Price ($/kWh)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>4 AM</td>
<td>$0.08 (lowest)</td>
</tr>
<tr class="even">
<td>10 AM</td>
<td>$0.20</td>
</tr>
<tr class="odd">
<td>4 PM</td>
<td>$0.32 (highest)</td>
</tr>
<tr class="even">
<td>10 PM</td>
<td>$0.20</td>
</tr>
</tbody>
</table>
<p>Assume the price changes continuously and smoothly throughout the day (not in discrete steps).</p>
<div class="cell" data-caption="Use this space to explore, build your model, and do any necessary calculations. (Try doing arithmetic here too, for example `(5*2)/2`)">
<div>
<div id="webr-12" class="exercise-cell">

</div>
<script type="webr-12-contents">
eyJhdHRyIjp7ImNhcHRpb24iOiJVc2UgdGhpcyBzcGFjZSB0byBleHBsb3JlLCBidWlsZCB5b3VyIG1vZGVsLCBhbmQgZG8gYW55IG5lY2Vzc2FyeSBjYWxjdWxhdGlvbnMuIChUcnkgZG9pbmcgYXJpdGhtZXRpYyBoZXJlIHRvbywgZm9yIGV4YW1wbGUgYCg1KjIpLzJgKSIsImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiIyBIZXJlJ3Mgb3NjKCkgcGxvdHRlZCBvdmVyIGl0cyBuYXR1cmFsIGRvbWFpbjpcbnNsaWNlX3Bsb3Qob3NjKHgpIH4geCwgZG9tYWluKHggPSAwOjEpKSJ9
</script>
</div>
</div>
<p>Your task: Build a model for <strong>electricity price</strong> (in $/kWh) as a function of <strong>hour of the day</strong> (0-24).</p>
<p><strong>Output transformation:</strong> The output transformation scales and shifts the vertical axis.</p>
<ol type="1">
<li>What is the vertical shift <span class="math inline">\(Q_0\)</span> (the average price, halfway between highest and lowest)?</li>
</ol>
<span> <small style="color: grey;" id="ows-avg-hintarea" class="hintarea">ows-avg</small>
<form id="ows-avg-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="0.08" id="ows-avg-1" w="32" name="ows-avg" hint="Wrong." show_hints="false"> 0.08 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="0.12" id="ows-avg-2" w="23" name="ows-avg" hint="Boo!" show_hints="false"> 0.12 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="0.2" id="ows-avg-3" w="29" name="ows-avg" hint="You're right!" show_hints="false"> 0.2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="0.24" id="ows-avg-4" w="3" name="ows-avg" hint="Untrue!" show_hints="false"> 0.24 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="0.32" id="ows-avg-5" w="7" name="ows-avg" hint="Incorrect choice." show_hints="false"> 0.32 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="ows-avg" id="ows-avg.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for ows-avg.');
      const form = document.getElementById('ows-avg-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('ows-avg-choice');
      if (savedValue) {
        console.log("Restoring radio button values for ows-avg.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for ows-avg.");
          localStorage.setItem('ows-avg-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
<ol start="2" type="1">
<li>What is the amplitude <span class="math inline">\(A\)</span> (how far the price swings above or below the average)?</li>
</ol>
<span> <small style="color: grey;" id="ows-amp-hintarea" class="hintarea">ows-amp</small>
<form id="ows-amp-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="0.08" id="ows-amp-1" w="3" name="ows-amp" hint="Untrue!" show_hints="false"> 0.08 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="0.12" id="ows-amp-2" w="14" name="ows-amp" hint="You're right." show_hints="false"> 0.12 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="0.2" id="ows-amp-3" w="3" name="ows-amp" hint="Think again." show_hints="false"> 0.2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="0.24" id="ows-amp-4" w="19" name="ows-amp" hint="Incorrect choice." show_hints="false"> 0.24 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="0.32" id="ows-amp-5" w="23" name="ows-amp" hint="Incorrect." show_hints="false"> 0.32 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="ows-amp" id="ows-amp.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for ows-amp.');
      const form = document.getElementById('ows-amp-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('ows-amp-choice');
      if (savedValue) {
        console.log("Restoring radio button values for ows-amp.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for ows-amp.");
          localStorage.setItem('ows-amp-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
<p><strong>Input transformation:</strong> The input transformation scales and shifts the horizontal axis.</p>
<ol start="3" type="1">
<li>The basic <code>osc()</code> has a period of 1. To make the model have a period of 24 hours, what goes inside osc()?</li>
</ol>
<span> <small style="color: grey;" id="ows-period-hintarea" class="hintarea">ows-period</small>
<form id="ows-period-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="hour/24" id="ows-period-1" w="5" name="ows-period" hint="You're right!" show_hints="false"> hour/24 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="hour*24" id="ows-period-2" w="19" name="ows-period" hint="Wrong." show_hints="false"> hour*24 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="hour - 24" id="ows-period-3" w="32" name="ows-period" hint="This is wide of the mark." show_hints="false"> hour - 24 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="24/hour" id="ows-period-4" w="23" name="ows-period" hint="This is wide of the mark." show_hints="false"> 24/hour &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="ows-period" id="ows-period.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for ows-period.');
      const form = document.getElementById('ows-period-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('ows-period-choice');
      if (savedValue) {
        console.log("Restoring radio button values for ows-period.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for ows-period.");
          localStorage.setItem('ows-period-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
<ol start="4" type="1">
<li>The price peaks at 4 PM (hour 16), but <code>osc()</code> peaks when its input equals 0.25. What horizontal shift <span class="math inline">\(q_0\)</span> aligns the peak correctly?</li>
</ol>
<span> <small style="color: grey;" id="ows-shift-hintarea" class="hintarea">ows-shift</small>
<form id="ows-shift-form">
<span> <span> <input type="radio" class="devoirs-mcq" value="(hour - 10)/24" id="ows-shift-1" w="16" name="ows-shift" hint="Exactly." show_hints="false"> (hour - 10)/24 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="(hour + 10)/24" id="ows-shift-2" w="3" name="ows-shift" hint="Think again." show_hints="false"> (hour + 10)/24 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="(hour - 4)/24" id="ows-shift-3" w="7" name="ows-shift" hint="Try again!" show_hints="false"> (hour - 4)/24 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" value="(hour + 4)/24" id="ows-shift-4" w="3" name="ows-shift" hint="Not so!" show_hints="false"> (hour + 4)/24 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type="radio" class="devoirs-mcq" name="ows-shift" id="ows-shift.null" style="display: none;" w="skipped" checked=""> </span> </span>
</form>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for ows-shift.');
      const form = document.getElementById('ows-shift-form');
      const radioButtons = form.querySelectorAll('input[type="radio"]');

      // Load saved value on page load
      const savedValue = localStorage.getItem('ows-shift-choice');
      if (savedValue) {
        console.log("Restoring radio button values for ows-shift.");
        radioButtons.forEach(radio => {
          if (radio.value === savedValue) {
            radio.checked = true;
          }
        });
      }

      // Save value on change
      form.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
          console.log("Saving changed value for ows-shift.");
          localStorage.setItem('ows-shift-choice', event.target.value);
        }
      });
    });
</script>
<p></p>
<p><strong>The complete model:</strong></p>
<ol start="5" type="1">
<li>Write the complete model for price as a function of hour (0-24):</li>
</ol>
<script type="text/javascript">
      //save entered info
      document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for ows-model.');
      const form = document.getElementById('ows-model');
      form.addEventListener("input", function () {
        var todo = document.getElementById('ows-model').value;
        localStorage.setItem("ows-model-contents", todo);
        console.log("Saving value of ows-model.")
      }, false);

      //on page load, read in the old value
      const savedValue = localStorage.getItem("ows-model-contents");
      if (savedValue) {
        document.getElementById('ows-model').value = savedValue;
      }
})
</script>
<textarea id="ows-model" name="ows-model" class="devoirs-text" style="font-family: monospace, monospace;" rows="1" cols="50" placeholder="Type here. (ID ows-model)"></textarea>
<ol start="6" type="1">
<li><strong>Decision time:</strong> Your EV needs 4 hours to charge and uses about 10 kWh. According to your model, approximately how much would it cost to charge starting at midnight vs.&nbsp;starting at 5 PM?</li>
</ol>
<script type="text/javascript">
      //save entered info
      document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for ows-decision.');
      const form = document.getElementById('ows-decision');
      form.addEventListener("input", function () {
        var todo = document.getElementById('ows-decision').value;
        localStorage.setItem("ows-decision-contents", todo);
        console.log("Saving value of ows-decision.")
      }, false);

      //on page load, read in the old value
      const savedValue = localStorage.getItem("ows-decision-contents");
      if (savedValue) {
        document.getElementById('ows-decision').value = savedValue;
      }
})
</script>
<textarea id="ows-decision" name="ows-decision" class="devoirs-text" style="font-family: monospace, monospace;" rows="2" cols="50" placeholder="Type here. (ID ows-decision)"></textarea>
<ol start="7" type="1">
<li><strong>Model validity:</strong> In reality, most power companies use step changes (e.g., “off-peak” from 9 PM to 7 AM at $0.10, “peak” from 4 PM to 9 PM at $0.30) rather than continuously varying rates. Does this information significantly change the validity of your model for making decisions about when to run appliances? Explain.</li>
</ol>
<script type="text/javascript">
      //save entered info
      document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for ows-validity.');
      const form = document.getElementById('ows-validity');
      form.addEventListener("input", function () {
        var todo = document.getElementById('ows-validity').value;
        localStorage.setItem("ows-validity-contents", todo);
        console.log("Saving value of ows-validity.")
      }, false);

      //on page load, read in the old value
      const savedValue = localStorage.getItem("ows-validity-contents");
      if (savedValue) {
        document.getElementById('ows-validity').value = savedValue;
      }
})
</script>
<textarea id="ows-validity" name="ows-validity" class="devoirs-text" style="font-family: monospace, monospace;" rows="3" cols="50" placeholder="Type here. (ID ows-validity)"></textarea>
</span></span></span></span></div>
<p><!-- end of exr-owl-watch-sunset --></p>
</div>
<div id="tabset-2-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-6-tab">
<div class="cell" data-autorun="true">
<div>
<div id="webr-13" class="exercise-cell">

</div>
<script type="webr-13-contents">
eyJhdHRyIjp7ImF1dG9ydW4iOnRydWUsImVjaG8iOmZhbHNlLCJlZGl0IjpmYWxzZSwiZXZhbCI6dHJ1ZX0sImNvZGUiOiIjIGRlZmluaXRpb25zIG9mIHN0b3J5Ym9vayBmdW5jdGlvbnNcblxuIyBldmVudHVhbGx5IHRoZXNlIHNob3VsZCBnbyBpbiBhIHBhY2thZ2UsIGxpa2Uge21vc2FpY0NhbGN9XG5vc2MgPC0gZnVuY3Rpb24odCkgc2luKDIqcGkqdClcbmhpbGxzaWRlIDwtIGZ1bmN0aW9uKHQpIHBub3JtKHQpXG5oaWxsIDwtIGZ1bmN0aW9uKHQpIGRub3JtKHQpXG5mbGF0IDwtIHVuaXR5IDwtIGZ1bmN0aW9uKHgpIDEuMFxuc3RlYWR5IDwtIGlkIDwtIGZ1bmN0aW9uKHgpIHhcbmRvdWJsZSA8LSBmdW5jdGlvbih0KSAyXnRcbmRvdWJsaW5ncyA8LSBmdW5jdGlvbih4KSBsb2cyKHgpXG5yZWNpcCA8LSBmdW5jdGlvbih4KSAxL3hcbm1hZ25pdHVkZSA8LSB0ZW5uaW5ncyA8LSBmdW5jdGlvbih4KSBsb2cxMCh4KVxudGVuX2ZvbGRzIDwtIGZ1bmN0aW9uKHgpIDEwXngifQ==
</script>
</div>
</div>
<div id="exr-deer-cross-river" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 6</strong></span> <strong>Chemical Spill Response</strong></p>
<p>A tanker truck accident has spilled industrial solvent into a municipal reservoir. The city immediately shut off water supply and began monitoring contamination levels.</p>
<p>The EPA safe limit for this chemical is <strong>5 parts per million (ppm)</strong>. Initial readings show a concentration of <strong>80 ppm</strong>. The chemical degrades through a combination of natural processes: volatilization (evaporation), photolysis (breakdown by sunlight), and dilution from incoming fresh water.</p>
<p>Environmental engineers take measurements over the following weeks:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Days after spill</th>
<th>Concentration (ppm)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>80</td>
</tr>
<tr class="even">
<td>7</td>
<td>40</td>
</tr>
<tr class="odd">
<td>14</td>
<td>20</td>
</tr>
<tr class="even">
<td>21</td>
<td>10</td>
</tr>
</tbody>
</table>
<p>The city council needs to know: <strong>When will the water be safe to drink?</strong></p>
<div class="cell" data-caption="Use this space to explore, build your model, and do any necessary calculations. (Try doing arithmetic here too, for example `(5*2)/2`)">
<div>
<div id="webr-14" class="exercise-cell">

</div>
<script type="webr-14-contents">
eyJhdHRyIjp7ImNhcHRpb24iOiJVc2UgdGhpcyBzcGFjZSB0byBleHBsb3JlLCBidWlsZCB5b3VyIG1vZGVsLCBhbmQgZG8gYW55IG5lY2Vzc2FyeSBjYWxjdWxhdGlvbnMuIChUcnkgZG9pbmcgYXJpdGhtZXRpYyBoZXJlIHRvbywgZm9yIGV4YW1wbGUgYCg1KjIpLzJgKSIsImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiIyBIZXJlJ3MgZG91YmxlKC14KSBwbG90dGVk4oCUdGhpcyBzaG93cyBleHBvbmVudGlhbCBkZWNheTpcbnNsaWNlX3Bsb3QoZG91YmxlKC14KSB+IHgsIGRvbWFpbih4ID0gMDo1KSkifQ==
</script>
</div>
</div>
<p>Your task: Build a model for <strong>contamination level</strong> (in ppm) as a function of <strong>days since the spill</strong>, then use it to answer the city’s question.</p>
<p><strong>Your model:</strong></p>
<p>Write a formula for concentration C as a function of days d:</p>
<script type="text/javascript">
      //save entered info
      document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for dcr-model.');
      const form = document.getElementById('dcr-model');
      form.addEventListener("input", function () {
        var todo = document.getElementById('dcr-model').value;
        localStorage.setItem("dcr-model-contents", todo);
        console.log("Saving value of dcr-model.")
      }, false);

      //on page load, read in the old value
      const savedValue = localStorage.getItem("dcr-model-contents");
      if (savedValue) {
        document.getElementById('dcr-model').value = savedValue;
      }
})
</script>
<textarea id="dcr-model" name="dcr-model" class="devoirs-text" style="font-family: monospace, monospace;" rows="1" cols="50" placeholder="Type here. (ID dcr-model)"></textarea>
<p><strong>The decision:</strong></p>
<p>According to your model, on what day will the concentration first drop below the 5 ppm safety threshold? Show your reasoning.</p>
<script type="text/javascript">
      //save entered info
      document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for dcr-decision.');
      const form = document.getElementById('dcr-decision');
      form.addEventListener("input", function () {
        var todo = document.getElementById('dcr-decision').value;
        localStorage.setItem("dcr-decision-contents", todo);
        console.log("Saving value of dcr-decision.")
      }, false);

      //on page load, read in the old value
      const savedValue = localStorage.getItem("dcr-decision-contents");
      if (savedValue) {
        document.getElementById('dcr-decision').value = savedValue;
      }
})
</script>
<textarea id="dcr-decision" name="dcr-decision" class="devoirs-text" style="font-family: monospace, monospace;" rows="3" cols="50" placeholder="Type here. (ID dcr-decision)"></textarea>
<p><strong>Reflection:</strong></p>
<p>The mayor wants to announce a reopening date to the public. What date would you advise, and why might you recommend waiting longer than what your model strictly predicts? Consider factors like measurement uncertainty, model limitations, and the consequences of being wrong.</p>
<script type="text/javascript">
      //save entered info
      document.addEventListener('DOMContentLoaded', function() {
      console.log('Adding event listener for dcr-reflection.');
      const form = document.getElementById('dcr-reflection');
      form.addEventListener("input", function () {
        var todo = document.getElementById('dcr-reflection').value;
        localStorage.setItem("dcr-reflection-contents", todo);
        console.log("Saving value of dcr-reflection.")
      }, false);

      //on page load, read in the old value
      const savedValue = localStorage.getItem("dcr-reflection-contents");
      if (savedValue) {
        document.getElementById('dcr-reflection').value = savedValue;
      }
})
</script>
<textarea id="dcr-reflection" name="dcr-reflection" class="devoirs-text" style="font-family: monospace, monospace;" rows="4" cols="50" placeholder="Type here. (ID dcr-reflection)"></textarea>
</div>
<p><!-- end of exr-deer-cross-river --></p>
</div>
</div>
</div>
</div>
</div>
</div>


<script type="webr-data">
eyJvcHRpb25zIjp7ImJhc2VVcmwiOiJodHRwczovL3dlYnIuci13YXNtLm9yZy92MC41LjQvIn0sInBhY2thZ2VzIjp7InBrZ3MiOlsiZXZhbHVhdGUiLCJrbml0ciIsImh0bWx0b29scyIsIm1vc2FpY0NhbGMiLCJnZ3Bsb3QyIiwiZ2dmb3JtdWxhIiwiZHBseXIiXSwicmVwb3MiOlsiaHR0cHM6Ly9kdGthcGxhbi5yLXVuaXZlcnNlLmRldiJdfSwicmVuZGVyX2RmIjoiZGVmYXVsdCJ9
</script>
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3siY2VsbE5hbWUiOiJ3ZWJyLXdpZGdldC0xNCIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6IntcbiAgLy8gV2FpdCBmb3Igb3V0cHV0IHRvIGJlIHdyaXR0ZW4gdG8gdGhlIERPTSwgdGhlbiB0cmlnZ2VyIHdpZGdldCByZW5kZXJpbmdcbiAgYXdhaXQgX3dlYnJfdmFsdWVfMTQ7XG4gIGlmICh3aW5kb3cuSFRNTFdpZGdldHMpIHtcbiAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7XG4gIH1cbiAgaWYgKHdpbmRvdy5QYWdlZFRhYmxlRG9jKSB7XG4gICAgd2luZG93LlBhZ2VkVGFibGVEb2MuaW5pdEFsbCgpO1xuICB9XG59XG4ifSx7ImNlbGxOYW1lIjoid2Vici0xNCIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJzb3VyY2UiOiJ2aWV3b2YgX3dlYnJfZWRpdG9yXzE0ID0ge1xuICBjb25zdCB7IFdlYlJFeGVyY2lzZUVkaXRvciwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuICBjb25zdCBzY3JpcHRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcIndlYnItMTQtY29udGVudHNcXFwiXWApLnRleHRDb250ZW50O1xuICBjb25zdCBibG9jayA9IEpTT04ucGFyc2UoYjY0RGVjb2RlKHNjcmlwdENvbnRlbnQpKTtcblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGlkOiBgd2Vici0xNC1jb250ZW50c2AgfSwgYmxvY2suYXR0cik7XG4gIGNvbnN0IGVkaXRvciA9IG5ldyBXZWJSRXhlcmNpc2VFZGl0b3Iod2ViUk9qcy53ZWJSUHJvbWlzZSwgYmxvY2suY29kZSwgb3B0aW9ucyk7XG5cbiAgcmV0dXJuIGVkaXRvci5jb250YWluZXI7XG59XG5fd2Vicl92YWx1ZV8xNCA9IHdlYlJPanMucHJvY2Vzcyhfd2Vicl9lZGl0b3JfMTQsIHt9KTtcbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLXdpZGdldC0xMyIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6IntcbiAgLy8gV2FpdCBmb3Igb3V0cHV0IHRvIGJlIHdyaXR0ZW4gdG8gdGhlIERPTSwgdGhlbiB0cmlnZ2VyIHdpZGdldCByZW5kZXJpbmdcbiAgYXdhaXQgX3dlYnJfdmFsdWVfMTM7XG4gIGlmICh3aW5kb3cuSFRNTFdpZGdldHMpIHtcbiAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7XG4gIH1cbiAgaWYgKHdpbmRvdy5QYWdlZFRhYmxlRG9jKSB7XG4gICAgd2luZG93LlBhZ2VkVGFibGVEb2MuaW5pdEFsbCgpO1xuICB9XG59XG4ifSx7ImNlbGxOYW1lIjoid2Vici0xMyIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJzb3VyY2UiOiJfd2Vicl92YWx1ZV8xMyA9IHtcbiAgY29uc3QgeyBoaWdobGlnaHRSLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici0xMy1jb250ZW50c1xcXCJdYCkudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGJsb2NrID0gSlNPTi5wYXJzZShiNjREZWNvZGUoc2NyaXB0Q29udGVudCkpO1xuXG4gIC8vIERlZmF1bHQgZXZhbHVhdGlvbiBjb25maWd1cmF0aW9uXG4gIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICBpZDogXCJ3ZWJyLTEzLWNvbnRlbnRzXCIsXG4gICAgZWNobzogdHJ1ZSxcbiAgICBvdXRwdXQ6IHRydWVcbiAgfSwgYmxvY2suYXR0cik7XG5cbiAgLy8gRXZhbHVhdGUgdGhlIHByb3ZpZGVkIFIgY29kZVxuICBjb25zdCByZXN1bHQgPSB3ZWJST2pzLnByb2Nlc3Moe2NvZGU6IGJsb2NrLmNvZGUsIG9wdGlvbnN9LCB7fSk7XG5cbiAgLy8gRWFybHkgeWllbGQgd2hpbGUgd2Ugd2FpdCBmb3IgdGhlIGZpcnN0IGV2YWx1YXRpb24gYW5kIHJlbmRlclxuICBpZiAob3B0aW9ucy5vdXRwdXQgJiYgIShcIjEzXCIgaW4gd2ViUk9qcy5yZW5kZXJlZE9qcykpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IHNwaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgaWYgKG9wdGlvbnMuZWNobykge1xuICAgICAgLy8gU2hvdyBvdXRwdXQgYXMgaGlnaGxpZ2h0ZWQgc291cmNlXG4gICAgICBjb25zdCBwcmVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInByZVwiKTtcbiAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBcInNvdXJjZUNvZGVcIjtcbiAgICAgIHByZUVsZW0uY2xhc3NOYW1lID0gXCJzb3VyY2VDb2RlIHJcIjtcbiAgICAgIHByZUVsZW0uYXBwZW5kQ2hpbGQoaGlnaGxpZ2h0UihibG9jay5jb2RlKSk7XG4gICAgICBzcGlubmVyLmNsYXNzTmFtZSA9IFwic3Bpbm5lci1ncm93IHNwaW5uZXItZ3Jvdy1zbSBtLTIgcG9zaXRpb24tYWJzb2x1dGUgdG9wLTAgZW5kLTBcIjtcbiAgICAgIHByZUVsZW0uYXBwZW5kQ2hpbGQoc3Bpbm5lcik7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocHJlRWxlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwaW5uZXIuY2xhc3NOYW1lID0gXCJzcGlubmVyLWJvcmRlciBzcGlubmVyLWJvcmRlci1zbVwiO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHNwaW5uZXIpO1xuICAgIH1cblxuICAgIHlpZWxkIGNvbnRhaW5lcjtcbiAgfVxuXG4gIHdlYlJPanMucmVuZGVyZWRPanNbXCIxM1wiXSA9IHRydWU7XG4gIHlpZWxkIGF3YWl0IHJlc3VsdDtcbn1cbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLXdpZGdldC0xMiIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6IntcbiAgLy8gV2FpdCBmb3Igb3V0cHV0IHRvIGJlIHdyaXR0ZW4gdG8gdGhlIERPTSwgdGhlbiB0cmlnZ2VyIHdpZGdldCByZW5kZXJpbmdcbiAgYXdhaXQgX3dlYnJfdmFsdWVfMTI7XG4gIGlmICh3aW5kb3cuSFRNTFdpZGdldHMpIHtcbiAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7XG4gIH1cbiAgaWYgKHdpbmRvdy5QYWdlZFRhYmxlRG9jKSB7XG4gICAgd2luZG93LlBhZ2VkVGFibGVEb2MuaW5pdEFsbCgpO1xuICB9XG59XG4ifSx7ImNlbGxOYW1lIjoid2Vici0xMiIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJzb3VyY2UiOiJ2aWV3b2YgX3dlYnJfZWRpdG9yXzEyID0ge1xuICBjb25zdCB7IFdlYlJFeGVyY2lzZUVkaXRvciwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuICBjb25zdCBzY3JpcHRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcIndlYnItMTItY29udGVudHNcXFwiXWApLnRleHRDb250ZW50O1xuICBjb25zdCBibG9jayA9IEpTT04ucGFyc2UoYjY0RGVjb2RlKHNjcmlwdENvbnRlbnQpKTtcblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGlkOiBgd2Vici0xMi1jb250ZW50c2AgfSwgYmxvY2suYXR0cik7XG4gIGNvbnN0IGVkaXRvciA9IG5ldyBXZWJSRXhlcmNpc2VFZGl0b3Iod2ViUk9qcy53ZWJSUHJvbWlzZSwgYmxvY2suY29kZSwgb3B0aW9ucyk7XG5cbiAgcmV0dXJuIGVkaXRvci5jb250YWluZXI7XG59XG5fd2Vicl92YWx1ZV8xMiA9IHdlYlJPanMucHJvY2Vzcyhfd2Vicl9lZGl0b3JfMTIsIHt9KTtcbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLXdpZGdldC0xMSIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6IntcbiAgLy8gV2FpdCBmb3Igb3V0cHV0IHRvIGJlIHdyaXR0ZW4gdG8gdGhlIERPTSwgdGhlbiB0cmlnZ2VyIHdpZGdldCByZW5kZXJpbmdcbiAgYXdhaXQgX3dlYnJfdmFsdWVfMTE7XG4gIGlmICh3aW5kb3cuSFRNTFdpZGdldHMpIHtcbiAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7XG4gIH1cbiAgaWYgKHdpbmRvdy5QYWdlZFRhYmxlRG9jKSB7XG4gICAgd2luZG93LlBhZ2VkVGFibGVEb2MuaW5pdEFsbCgpO1xuICB9XG59XG4ifSx7ImNlbGxOYW1lIjoid2Vici0xMSIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJzb3VyY2UiOiJfd2Vicl92YWx1ZV8xMSA9IHtcbiAgY29uc3QgeyBoaWdobGlnaHRSLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici0xMS1jb250ZW50c1xcXCJdYCkudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGJsb2NrID0gSlNPTi5wYXJzZShiNjREZWNvZGUoc2NyaXB0Q29udGVudCkpO1xuXG4gIC8vIERlZmF1bHQgZXZhbHVhdGlvbiBjb25maWd1cmF0aW9uXG4gIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICBpZDogXCJ3ZWJyLTExLWNvbnRlbnRzXCIsXG4gICAgZWNobzogdHJ1ZSxcbiAgICBvdXRwdXQ6IHRydWVcbiAgfSwgYmxvY2suYXR0cik7XG5cbiAgLy8gRXZhbHVhdGUgdGhlIHByb3ZpZGVkIFIgY29kZVxuICBjb25zdCByZXN1bHQgPSB3ZWJST2pzLnByb2Nlc3Moe2NvZGU6IGJsb2NrLmNvZGUsIG9wdGlvbnN9LCB7fSk7XG5cbiAgLy8gRWFybHkgeWllbGQgd2hpbGUgd2Ugd2FpdCBmb3IgdGhlIGZpcnN0IGV2YWx1YXRpb24gYW5kIHJlbmRlclxuICBpZiAob3B0aW9ucy5vdXRwdXQgJiYgIShcIjExXCIgaW4gd2ViUk9qcy5yZW5kZXJlZE9qcykpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IHNwaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgaWYgKG9wdGlvbnMuZWNobykge1xuICAgICAgLy8gU2hvdyBvdXRwdXQgYXMgaGlnaGxpZ2h0ZWQgc291cmNlXG4gICAgICBjb25zdCBwcmVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInByZVwiKTtcbiAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBcInNvdXJjZUNvZGVcIjtcbiAgICAgIHByZUVsZW0uY2xhc3NOYW1lID0gXCJzb3VyY2VDb2RlIHJcIjtcbiAgICAgIHByZUVsZW0uYXBwZW5kQ2hpbGQoaGlnaGxpZ2h0UihibG9jay5jb2RlKSk7XG4gICAgICBzcGlubmVyLmNsYXNzTmFtZSA9IFwic3Bpbm5lci1ncm93IHNwaW5uZXItZ3Jvdy1zbSBtLTIgcG9zaXRpb24tYWJzb2x1dGUgdG9wLTAgZW5kLTBcIjtcbiAgICAgIHByZUVsZW0uYXBwZW5kQ2hpbGQoc3Bpbm5lcik7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocHJlRWxlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwaW5uZXIuY2xhc3NOYW1lID0gXCJzcGlubmVyLWJvcmRlciBzcGlubmVyLWJvcmRlci1zbVwiO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHNwaW5uZXIpO1xuICAgIH1cblxuICAgIHlpZWxkIGNvbnRhaW5lcjtcbiAgfVxuXG4gIHdlYlJPanMucmVuZGVyZWRPanNbXCIxMVwiXSA9IHRydWU7XG4gIHlpZWxkIGF3YWl0IHJlc3VsdDtcbn1cbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLXdpZGdldC0xMCIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6IntcbiAgLy8gV2FpdCBmb3Igb3V0cHV0IHRvIGJlIHdyaXR0ZW4gdG8gdGhlIERPTSwgdGhlbiB0cmlnZ2VyIHdpZGdldCByZW5kZXJpbmdcbiAgYXdhaXQgX3dlYnJfdmFsdWVfMTA7XG4gIGlmICh3aW5kb3cuSFRNTFdpZGdldHMpIHtcbiAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7XG4gIH1cbiAgaWYgKHdpbmRvdy5QYWdlZFRhYmxlRG9jKSB7XG4gICAgd2luZG93LlBhZ2VkVGFibGVEb2MuaW5pdEFsbCgpO1xuICB9XG59XG4ifSx7ImNlbGxOYW1lIjoid2Vici0xMCIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJzb3VyY2UiOiJ2aWV3b2YgX3dlYnJfZWRpdG9yXzEwID0ge1xuICBjb25zdCB7IFdlYlJFeGVyY2lzZUVkaXRvciwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuICBjb25zdCBzY3JpcHRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcIndlYnItMTAtY29udGVudHNcXFwiXWApLnRleHRDb250ZW50O1xuICBjb25zdCBibG9jayA9IEpTT04ucGFyc2UoYjY0RGVjb2RlKHNjcmlwdENvbnRlbnQpKTtcblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGlkOiBgd2Vici0xMC1jb250ZW50c2AgfSwgYmxvY2suYXR0cik7XG4gIGNvbnN0IGVkaXRvciA9IG5ldyBXZWJSRXhlcmNpc2VFZGl0b3Iod2ViUk9qcy53ZWJSUHJvbWlzZSwgYmxvY2suY29kZSwgb3B0aW9ucyk7XG5cbiAgcmV0dXJuIGVkaXRvci5jb250YWluZXI7XG59XG5fd2Vicl92YWx1ZV8xMCA9IHdlYlJPanMucHJvY2Vzcyhfd2Vicl9lZGl0b3JfMTAsIHt9KTtcbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLXdpZGdldC05IiwiaW5saW5lIjpmYWxzZSwibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoie1xuICAvLyBXYWl0IGZvciBvdXRwdXQgdG8gYmUgd3JpdHRlbiB0byB0aGUgRE9NLCB0aGVuIHRyaWdnZXIgd2lkZ2V0IHJlbmRlcmluZ1xuICBhd2FpdCBfd2Vicl92YWx1ZV85O1xuICBpZiAod2luZG93LkhUTUxXaWRnZXRzKSB7XG4gICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpO1xuICB9XG4gIGlmICh3aW5kb3cuUGFnZWRUYWJsZURvYykge1xuICAgIHdpbmRvdy5QYWdlZFRhYmxlRG9jLmluaXRBbGwoKTtcbiAgfVxufVxuIn0seyJjZWxsTmFtZSI6IndlYnItOSIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJzb3VyY2UiOiJ2aWV3b2YgX3dlYnJfZWRpdG9yXzkgPSB7XG4gIGNvbnN0IHsgV2ViUkV4ZXJjaXNlRWRpdG9yLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici05LWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBpZDogYHdlYnItOS1jb250ZW50c2AgfSwgYmxvY2suYXR0cik7XG4gIGNvbnN0IGVkaXRvciA9IG5ldyBXZWJSRXhlcmNpc2VFZGl0b3Iod2ViUk9qcy53ZWJSUHJvbWlzZSwgYmxvY2suY29kZSwgb3B0aW9ucyk7XG5cbiAgcmV0dXJuIGVkaXRvci5jb250YWluZXI7XG59XG5fd2Vicl92YWx1ZV85ID0gd2ViUk9qcy5wcm9jZXNzKF93ZWJyX2VkaXRvcl85LCB7fSk7XG4ifSx7ImNlbGxOYW1lIjoid2Vici13aWRnZXQtOCIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6IntcbiAgLy8gV2FpdCBmb3Igb3V0cHV0IHRvIGJlIHdyaXR0ZW4gdG8gdGhlIERPTSwgdGhlbiB0cmlnZ2VyIHdpZGdldCByZW5kZXJpbmdcbiAgYXdhaXQgX3dlYnJfdmFsdWVfODtcbiAgaWYgKHdpbmRvdy5IVE1MV2lkZ2V0cykge1xuICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTtcbiAgfVxuICBpZiAod2luZG93LlBhZ2VkVGFibGVEb2MpIHtcbiAgICB3aW5kb3cuUGFnZWRUYWJsZURvYy5pbml0QWxsKCk7XG4gIH1cbn1cbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLTgiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0Iiwic291cmNlIjoiX3dlYnJfdmFsdWVfOCA9IHtcbiAgY29uc3QgeyBoaWdobGlnaHRSLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici04LWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgLy8gRGVmYXVsdCBldmFsdWF0aW9uIGNvbmZpZ3VyYXRpb25cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIGlkOiBcIndlYnItOC1jb250ZW50c1wiLFxuICAgIGVjaG86IHRydWUsXG4gICAgb3V0cHV0OiB0cnVlXG4gIH0sIGJsb2NrLmF0dHIpO1xuXG4gIC8vIEV2YWx1YXRlIHRoZSBwcm92aWRlZCBSIGNvZGVcbiAgY29uc3QgcmVzdWx0ID0gd2ViUk9qcy5wcm9jZXNzKHtjb2RlOiBibG9jay5jb2RlLCBvcHRpb25zfSwge30pO1xuXG4gIC8vIEVhcmx5IHlpZWxkIHdoaWxlIHdlIHdhaXQgZm9yIHRoZSBmaXJzdCBldmFsdWF0aW9uIGFuZCByZW5kZXJcbiAgaWYgKG9wdGlvbnMub3V0cHV0ICYmICEoXCI4XCIgaW4gd2ViUk9qcy5yZW5kZXJlZE9qcykpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IHNwaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgaWYgKG9wdGlvbnMuZWNobykge1xuICAgICAgLy8gU2hvdyBvdXRwdXQgYXMgaGlnaGxpZ2h0ZWQgc291cmNlXG4gICAgICBjb25zdCBwcmVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInByZVwiKTtcbiAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBcInNvdXJjZUNvZGVcIjtcbiAgICAgIHByZUVsZW0uY2xhc3NOYW1lID0gXCJzb3VyY2VDb2RlIHJcIjtcbiAgICAgIHByZUVsZW0uYXBwZW5kQ2hpbGQoaGlnaGxpZ2h0UihibG9jay5jb2RlKSk7XG4gICAgICBzcGlubmVyLmNsYXNzTmFtZSA9IFwic3Bpbm5lci1ncm93IHNwaW5uZXItZ3Jvdy1zbSBtLTIgcG9zaXRpb24tYWJzb2x1dGUgdG9wLTAgZW5kLTBcIjtcbiAgICAgIHByZUVsZW0uYXBwZW5kQ2hpbGQoc3Bpbm5lcik7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocHJlRWxlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwaW5uZXIuY2xhc3NOYW1lID0gXCJzcGlubmVyLWJvcmRlciBzcGlubmVyLWJvcmRlci1zbVwiO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHNwaW5uZXIpO1xuICAgIH1cblxuICAgIHlpZWxkIGNvbnRhaW5lcjtcbiAgfVxuXG4gIHdlYlJPanMucmVuZGVyZWRPanNbXCI4XCJdID0gdHJ1ZTtcbiAgeWllbGQgYXdhaXQgcmVzdWx0O1xufVxuIn0seyJjZWxsTmFtZSI6IndlYnItd2lkZ2V0LTciLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJ7XG4gIC8vIFdhaXQgZm9yIG91dHB1dCB0byBiZSB3cml0dGVuIHRvIHRoZSBET00sIHRoZW4gdHJpZ2dlciB3aWRnZXQgcmVuZGVyaW5nXG4gIGF3YWl0IF93ZWJyX3ZhbHVlXzc7XG4gIGlmICh3aW5kb3cuSFRNTFdpZGdldHMpIHtcbiAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7XG4gIH1cbiAgaWYgKHdpbmRvdy5QYWdlZFRhYmxlRG9jKSB7XG4gICAgd2luZG93LlBhZ2VkVGFibGVEb2MuaW5pdEFsbCgpO1xuICB9XG59XG4ifSx7ImNlbGxOYW1lIjoid2Vici03IiwiaW5saW5lIjpmYWxzZSwibWV0aG9kTmFtZSI6ImludGVycHJldCIsInNvdXJjZSI6InZpZXdvZiBfd2Vicl9lZGl0b3JfNyA9IHtcbiAgY29uc3QgeyBXZWJSRXhlcmNpc2VFZGl0b3IsIGI2NERlY29kZSB9ID0gd2luZG93Ll9leGVyY2lzZV9vanNfcnVudGltZTtcbiAgY29uc3Qgc2NyaXB0Q29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNjcmlwdFt0eXBlPVxcXCJ3ZWJyLTctY29udGVudHNcXFwiXWApLnRleHRDb250ZW50O1xuICBjb25zdCBibG9jayA9IEpTT04ucGFyc2UoYjY0RGVjb2RlKHNjcmlwdENvbnRlbnQpKTtcblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGlkOiBgd2Vici03LWNvbnRlbnRzYCB9LCBibG9jay5hdHRyKTtcbiAgY29uc3QgZWRpdG9yID0gbmV3IFdlYlJFeGVyY2lzZUVkaXRvcih3ZWJST2pzLndlYlJQcm9taXNlLCBibG9jay5jb2RlLCBvcHRpb25zKTtcblxuICByZXR1cm4gZWRpdG9yLmNvbnRhaW5lcjtcbn1cbl93ZWJyX3ZhbHVlXzcgPSB3ZWJST2pzLnByb2Nlc3MoX3dlYnJfZWRpdG9yXzcsIHt9KTtcbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLXdpZGdldC02IiwiaW5saW5lIjpmYWxzZSwibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoie1xuICAvLyBXYWl0IGZvciBvdXRwdXQgdG8gYmUgd3JpdHRlbiB0byB0aGUgRE9NLCB0aGVuIHRyaWdnZXIgd2lkZ2V0IHJlbmRlcmluZ1xuICBhd2FpdCBfd2Vicl92YWx1ZV82O1xuICBpZiAod2luZG93LkhUTUxXaWRnZXRzKSB7XG4gICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpO1xuICB9XG4gIGlmICh3aW5kb3cuUGFnZWRUYWJsZURvYykge1xuICAgIHdpbmRvdy5QYWdlZFRhYmxlRG9jLmluaXRBbGwoKTtcbiAgfVxufVxuIn0seyJjZWxsTmFtZSI6IndlYnItNiIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJzb3VyY2UiOiJfd2Vicl92YWx1ZV82ID0ge1xuICBjb25zdCB7IGhpZ2hsaWdodFIsIGI2NERlY29kZSB9ID0gd2luZG93Ll9leGVyY2lzZV9vanNfcnVudGltZTtcbiAgY29uc3Qgc2NyaXB0Q29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNjcmlwdFt0eXBlPVxcXCJ3ZWJyLTYtY29udGVudHNcXFwiXWApLnRleHRDb250ZW50O1xuICBjb25zdCBibG9jayA9IEpTT04ucGFyc2UoYjY0RGVjb2RlKHNjcmlwdENvbnRlbnQpKTtcblxuICAvLyBEZWZhdWx0IGV2YWx1YXRpb24gY29uZmlndXJhdGlvblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgaWQ6IFwid2Vici02LWNvbnRlbnRzXCIsXG4gICAgZWNobzogdHJ1ZSxcbiAgICBvdXRwdXQ6IHRydWVcbiAgfSwgYmxvY2suYXR0cik7XG5cbiAgLy8gRXZhbHVhdGUgdGhlIHByb3ZpZGVkIFIgY29kZVxuICBjb25zdCByZXN1bHQgPSB3ZWJST2pzLnByb2Nlc3Moe2NvZGU6IGJsb2NrLmNvZGUsIG9wdGlvbnN9LCB7fSk7XG5cbiAgLy8gRWFybHkgeWllbGQgd2hpbGUgd2Ugd2FpdCBmb3IgdGhlIGZpcnN0IGV2YWx1YXRpb24gYW5kIHJlbmRlclxuICBpZiAob3B0aW9ucy5vdXRwdXQgJiYgIShcIjZcIiBpbiB3ZWJST2pzLnJlbmRlcmVkT2pzKSkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc3Qgc3Bpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBpZiAob3B0aW9ucy5lY2hvKSB7XG4gICAgICAvLyBTaG93IG91dHB1dCBhcyBoaWdobGlnaHRlZCBzb3VyY2VcbiAgICAgIGNvbnN0IHByZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicHJlXCIpO1xuICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IFwic291cmNlQ29kZVwiO1xuICAgICAgcHJlRWxlbS5jbGFzc05hbWUgPSBcInNvdXJjZUNvZGUgclwiO1xuICAgICAgcHJlRWxlbS5hcHBlbmRDaGlsZChoaWdobGlnaHRSKGJsb2NrLmNvZGUpKTtcbiAgICAgIHNwaW5uZXIuY2xhc3NOYW1lID0gXCJzcGlubmVyLWdyb3cgc3Bpbm5lci1ncm93LXNtIG0tMiBwb3NpdGlvbi1hYnNvbHV0ZSB0b3AtMCBlbmQtMFwiO1xuICAgICAgcHJlRWxlbS5hcHBlbmRDaGlsZChzcGlubmVyKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwcmVFbGVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3Bpbm5lci5jbGFzc05hbWUgPSBcInNwaW5uZXItYm9yZGVyIHNwaW5uZXItYm9yZGVyLXNtXCI7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3Bpbm5lcik7XG4gICAgfVxuXG4gICAgeWllbGQgY29udGFpbmVyO1xuICB9XG5cbiAgd2ViUk9qcy5yZW5kZXJlZE9qc1tcIjZcIl0gPSB0cnVlO1xuICB5aWVsZCBhd2FpdCByZXN1bHQ7XG59XG4ifSx7ImNlbGxOYW1lIjoid2Vici13aWRnZXQtNSIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6IntcbiAgLy8gV2FpdCBmb3Igb3V0cHV0IHRvIGJlIHdyaXR0ZW4gdG8gdGhlIERPTSwgdGhlbiB0cmlnZ2VyIHdpZGdldCByZW5kZXJpbmdcbiAgYXdhaXQgX3dlYnJfdmFsdWVfNTtcbiAgaWYgKHdpbmRvdy5IVE1MV2lkZ2V0cykge1xuICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTtcbiAgfVxuICBpZiAod2luZG93LlBhZ2VkVGFibGVEb2MpIHtcbiAgICB3aW5kb3cuUGFnZWRUYWJsZURvYy5pbml0QWxsKCk7XG4gIH1cbn1cbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLTUiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0Iiwic291cmNlIjoidmlld29mIF93ZWJyX2VkaXRvcl81ID0ge1xuICBjb25zdCB7IFdlYlJFeGVyY2lzZUVkaXRvciwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuICBjb25zdCBzY3JpcHRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcIndlYnItNS1jb250ZW50c1xcXCJdYCkudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGJsb2NrID0gSlNPTi5wYXJzZShiNjREZWNvZGUoc2NyaXB0Q29udGVudCkpO1xuXG4gIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgaWQ6IGB3ZWJyLTUtY29udGVudHNgIH0sIGJsb2NrLmF0dHIpO1xuICBjb25zdCBlZGl0b3IgPSBuZXcgV2ViUkV4ZXJjaXNlRWRpdG9yKHdlYlJPanMud2ViUlByb21pc2UsIGJsb2NrLmNvZGUsIG9wdGlvbnMpO1xuXG4gIHJldHVybiBlZGl0b3IuY29udGFpbmVyO1xufVxuX3dlYnJfdmFsdWVfNSA9IHdlYlJPanMucHJvY2Vzcyhfd2Vicl9lZGl0b3JfNSwge30pO1xuIn0seyJjZWxsTmFtZSI6IndlYnItd2lkZ2V0LTQiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJ7XG4gIC8vIFdhaXQgZm9yIG91dHB1dCB0byBiZSB3cml0dGVuIHRvIHRoZSBET00sIHRoZW4gdHJpZ2dlciB3aWRnZXQgcmVuZGVyaW5nXG4gIGF3YWl0IF93ZWJyX3ZhbHVlXzQ7XG4gIGlmICh3aW5kb3cuSFRNTFdpZGdldHMpIHtcbiAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7XG4gIH1cbiAgaWYgKHdpbmRvdy5QYWdlZFRhYmxlRG9jKSB7XG4gICAgd2luZG93LlBhZ2VkVGFibGVEb2MuaW5pdEFsbCgpO1xuICB9XG59XG4ifSx7ImNlbGxOYW1lIjoid2Vici00IiwiaW5saW5lIjpmYWxzZSwibWV0aG9kTmFtZSI6ImludGVycHJldCIsInNvdXJjZSI6Il93ZWJyX3ZhbHVlXzQgPSB7XG4gIGNvbnN0IHsgaGlnaGxpZ2h0UiwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuICBjb25zdCBzY3JpcHRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcIndlYnItNC1jb250ZW50c1xcXCJdYCkudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGJsb2NrID0gSlNPTi5wYXJzZShiNjREZWNvZGUoc2NyaXB0Q29udGVudCkpO1xuXG4gIC8vIERlZmF1bHQgZXZhbHVhdGlvbiBjb25maWd1cmF0aW9uXG4gIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICBpZDogXCJ3ZWJyLTQtY29udGVudHNcIixcbiAgICBlY2hvOiB0cnVlLFxuICAgIG91dHB1dDogdHJ1ZVxuICB9LCBibG9jay5hdHRyKTtcblxuICAvLyBFdmFsdWF0ZSB0aGUgcHJvdmlkZWQgUiBjb2RlXG4gIGNvbnN0IHJlc3VsdCA9IHdlYlJPanMucHJvY2Vzcyh7Y29kZTogYmxvY2suY29kZSwgb3B0aW9uc30sIHt9KTtcblxuICAvLyBFYXJseSB5aWVsZCB3aGlsZSB3ZSB3YWl0IGZvciB0aGUgZmlyc3QgZXZhbHVhdGlvbiBhbmQgcmVuZGVyXG4gIGlmIChvcHRpb25zLm91dHB1dCAmJiAhKFwiNFwiIGluIHdlYlJPanMucmVuZGVyZWRPanMpKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBzcGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGlmIChvcHRpb25zLmVjaG8pIHtcbiAgICAgIC8vIFNob3cgb3V0cHV0IGFzIGhpZ2hsaWdodGVkIHNvdXJjZVxuICAgICAgY29uc3QgcHJlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwcmVcIik7XG4gICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gXCJzb3VyY2VDb2RlXCI7XG4gICAgICBwcmVFbGVtLmNsYXNzTmFtZSA9IFwic291cmNlQ29kZSByXCI7XG4gICAgICBwcmVFbGVtLmFwcGVuZENoaWxkKGhpZ2hsaWdodFIoYmxvY2suY29kZSkpO1xuICAgICAgc3Bpbm5lci5jbGFzc05hbWUgPSBcInNwaW5uZXItZ3JvdyBzcGlubmVyLWdyb3ctc20gbS0yIHBvc2l0aW9uLWFic29sdXRlIHRvcC0wIGVuZC0wXCI7XG4gICAgICBwcmVFbGVtLmFwcGVuZENoaWxkKHNwaW5uZXIpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHByZUVsZW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGlubmVyLmNsYXNzTmFtZSA9IFwic3Bpbm5lci1ib3JkZXIgc3Bpbm5lci1ib3JkZXItc21cIjtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzcGlubmVyKTtcbiAgICB9XG5cbiAgICB5aWVsZCBjb250YWluZXI7XG4gIH1cblxuICB3ZWJST2pzLnJlbmRlcmVkT2pzW1wiNFwiXSA9IHRydWU7XG4gIHlpZWxkIGF3YWl0IHJlc3VsdDtcbn1cbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLXdpZGdldC0zIiwiaW5saW5lIjpmYWxzZSwibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoie1xuICAvLyBXYWl0IGZvciBvdXRwdXQgdG8gYmUgd3JpdHRlbiB0byB0aGUgRE9NLCB0aGVuIHRyaWdnZXIgd2lkZ2V0IHJlbmRlcmluZ1xuICBhd2FpdCBfd2Vicl92YWx1ZV8zO1xuICBpZiAod2luZG93LkhUTUxXaWRnZXRzKSB7XG4gICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpO1xuICB9XG4gIGlmICh3aW5kb3cuUGFnZWRUYWJsZURvYykge1xuICAgIHdpbmRvdy5QYWdlZFRhYmxlRG9jLmluaXRBbGwoKTtcbiAgfVxufVxuIn0seyJjZWxsTmFtZSI6IndlYnItMyIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJzb3VyY2UiOiJ2aWV3b2YgX3dlYnJfZWRpdG9yXzMgPSB7XG4gIGNvbnN0IHsgV2ViUkV4ZXJjaXNlRWRpdG9yLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici0zLWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBpZDogYHdlYnItMy1jb250ZW50c2AgfSwgYmxvY2suYXR0cik7XG4gIGNvbnN0IGVkaXRvciA9IG5ldyBXZWJSRXhlcmNpc2VFZGl0b3Iod2ViUk9qcy53ZWJSUHJvbWlzZSwgYmxvY2suY29kZSwgb3B0aW9ucyk7XG5cbiAgcmV0dXJuIGVkaXRvci5jb250YWluZXI7XG59XG5fd2Vicl92YWx1ZV8zID0gd2ViUk9qcy5wcm9jZXNzKF93ZWJyX2VkaXRvcl8zLCB7fSk7XG4ifSx7ImNlbGxOYW1lIjoid2Vici13aWRnZXQtMiIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6IntcbiAgLy8gV2FpdCBmb3Igb3V0cHV0IHRvIGJlIHdyaXR0ZW4gdG8gdGhlIERPTSwgdGhlbiB0cmlnZ2VyIHdpZGdldCByZW5kZXJpbmdcbiAgYXdhaXQgX3dlYnJfdmFsdWVfMjtcbiAgaWYgKHdpbmRvdy5IVE1MV2lkZ2V0cykge1xuICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTtcbiAgfVxuICBpZiAod2luZG93LlBhZ2VkVGFibGVEb2MpIHtcbiAgICB3aW5kb3cuUGFnZWRUYWJsZURvYy5pbml0QWxsKCk7XG4gIH1cbn1cbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLTIiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0Iiwic291cmNlIjoiX3dlYnJfdmFsdWVfMiA9IHtcbiAgY29uc3QgeyBoaWdobGlnaHRSLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici0yLWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgLy8gRGVmYXVsdCBldmFsdWF0aW9uIGNvbmZpZ3VyYXRpb25cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIGlkOiBcIndlYnItMi1jb250ZW50c1wiLFxuICAgIGVjaG86IHRydWUsXG4gICAgb3V0cHV0OiB0cnVlXG4gIH0sIGJsb2NrLmF0dHIpO1xuXG4gIC8vIEV2YWx1YXRlIHRoZSBwcm92aWRlZCBSIGNvZGVcbiAgY29uc3QgcmVzdWx0ID0gd2ViUk9qcy5wcm9jZXNzKHtjb2RlOiBibG9jay5jb2RlLCBvcHRpb25zfSwge30pO1xuXG4gIC8vIEVhcmx5IHlpZWxkIHdoaWxlIHdlIHdhaXQgZm9yIHRoZSBmaXJzdCBldmFsdWF0aW9uIGFuZCByZW5kZXJcbiAgaWYgKG9wdGlvbnMub3V0cHV0ICYmICEoXCIyXCIgaW4gd2ViUk9qcy5yZW5kZXJlZE9qcykpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IHNwaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgaWYgKG9wdGlvbnMuZWNobykge1xuICAgICAgLy8gU2hvdyBvdXRwdXQgYXMgaGlnaGxpZ2h0ZWQgc291cmNlXG4gICAgICBjb25zdCBwcmVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInByZVwiKTtcbiAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBcInNvdXJjZUNvZGVcIjtcbiAgICAgIHByZUVsZW0uY2xhc3NOYW1lID0gXCJzb3VyY2VDb2RlIHJcIjtcbiAgICAgIHByZUVsZW0uYXBwZW5kQ2hpbGQoaGlnaGxpZ2h0UihibG9jay5jb2RlKSk7XG4gICAgICBzcGlubmVyLmNsYXNzTmFtZSA9IFwic3Bpbm5lci1ncm93IHNwaW5uZXItZ3Jvdy1zbSBtLTIgcG9zaXRpb24tYWJzb2x1dGUgdG9wLTAgZW5kLTBcIjtcbiAgICAgIHByZUVsZW0uYXBwZW5kQ2hpbGQoc3Bpbm5lcik7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocHJlRWxlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwaW5uZXIuY2xhc3NOYW1lID0gXCJzcGlubmVyLWJvcmRlciBzcGlubmVyLWJvcmRlci1zbVwiO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHNwaW5uZXIpO1xuICAgIH1cblxuICAgIHlpZWxkIGNvbnRhaW5lcjtcbiAgfVxuXG4gIHdlYlJPanMucmVuZGVyZWRPanNbXCIyXCJdID0gdHJ1ZTtcbiAgeWllbGQgYXdhaXQgcmVzdWx0O1xufVxuIn0seyJjZWxsTmFtZSI6IndlYnItd2lkZ2V0LTEiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJ7XG4gIC8vIFdhaXQgZm9yIG91dHB1dCB0byBiZSB3cml0dGVuIHRvIHRoZSBET00sIHRoZW4gdHJpZ2dlciB3aWRnZXQgcmVuZGVyaW5nXG4gIGF3YWl0IF93ZWJyX3ZhbHVlXzE7XG4gIGlmICh3aW5kb3cuSFRNTFdpZGdldHMpIHtcbiAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7XG4gIH1cbiAgaWYgKHdpbmRvdy5QYWdlZFRhYmxlRG9jKSB7XG4gICAgd2luZG93LlBhZ2VkVGFibGVEb2MuaW5pdEFsbCgpO1xuICB9XG59XG4ifSx7ImNlbGxOYW1lIjoid2Vici0xIiwiaW5saW5lIjpmYWxzZSwibWV0aG9kTmFtZSI6ImludGVycHJldCIsInNvdXJjZSI6Il93ZWJyX3ZhbHVlXzEgPSB7XG4gIGNvbnN0IHsgaGlnaGxpZ2h0UiwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuICBjb25zdCBzY3JpcHRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcIndlYnItMS1jb250ZW50c1xcXCJdYCkudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGJsb2NrID0gSlNPTi5wYXJzZShiNjREZWNvZGUoc2NyaXB0Q29udGVudCkpO1xuXG4gIC8vIERlZmF1bHQgZXZhbHVhdGlvbiBjb25maWd1cmF0aW9uXG4gIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICBpZDogXCJ3ZWJyLTEtY29udGVudHNcIixcbiAgICBlY2hvOiB0cnVlLFxuICAgIG91dHB1dDogdHJ1ZVxuICB9LCBibG9jay5hdHRyKTtcblxuICAvLyBFdmFsdWF0ZSB0aGUgcHJvdmlkZWQgUiBjb2RlXG4gIGNvbnN0IHJlc3VsdCA9IHdlYlJPanMucHJvY2Vzcyh7Y29kZTogYmxvY2suY29kZSwgb3B0aW9uc30sIHt9KTtcblxuICAvLyBFYXJseSB5aWVsZCB3aGlsZSB3ZSB3YWl0IGZvciB0aGUgZmlyc3QgZXZhbHVhdGlvbiBhbmQgcmVuZGVyXG4gIGlmIChvcHRpb25zLm91dHB1dCAmJiAhKFwiMVwiIGluIHdlYlJPanMucmVuZGVyZWRPanMpKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBzcGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGlmIChvcHRpb25zLmVjaG8pIHtcbiAgICAgIC8vIFNob3cgb3V0cHV0IGFzIGhpZ2hsaWdodGVkIHNvdXJjZVxuICAgICAgY29uc3QgcHJlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwcmVcIik7XG4gICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gXCJzb3VyY2VDb2RlXCI7XG4gICAgICBwcmVFbGVtLmNsYXNzTmFtZSA9IFwic291cmNlQ29kZSByXCI7XG4gICAgICBwcmVFbGVtLmFwcGVuZENoaWxkKGhpZ2hsaWdodFIoYmxvY2suY29kZSkpO1xuICAgICAgc3Bpbm5lci5jbGFzc05hbWUgPSBcInNwaW5uZXItZ3JvdyBzcGlubmVyLWdyb3ctc20gbS0yIHBvc2l0aW9uLWFic29sdXRlIHRvcC0wIGVuZC0wXCI7XG4gICAgICBwcmVFbGVtLmFwcGVuZENoaWxkKHNwaW5uZXIpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHByZUVsZW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGlubmVyLmNsYXNzTmFtZSA9IFwic3Bpbm5lci1ib3JkZXIgc3Bpbm5lci1ib3JkZXItc21cIjtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzcGlubmVyKTtcbiAgICB9XG5cbiAgICB5aWVsZCBjb250YWluZXI7XG4gIH1cblxuICB3ZWJST2pzLnJlbmRlcmVkT2pzW1wiMVwiXSA9IHRydWU7XG4gIHlpZWxkIGF3YWl0IHJlc3VsdDtcbn1cbiJ9LHsiY2VsbE5hbWUiOiJ3ZWJyLXByZWx1ZGUiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJ3ZWJST2pzID0ge1xuICBjb25zdCB7IFdlYlIsIENoYW5uZWxUeXBlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lLldlYlI7XG4gIGNvbnN0IHtcbiAgICBXZWJSRXZhbHVhdG9yLFxuICAgIFdlYlJFbnZpcm9ubWVudE1hbmFnZXIsXG4gICAgc2V0dXBSLFxuICAgIGI2NERlY29kZSxcbiAgICBjb2xsYXBzZVBhdGhcbiAgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG5cbiAgY29uc3Qgc3RhdHVzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJleGVyY2lzZS1sb2FkaW5nLXN0YXR1c1wiKTtcbiAgY29uc3QgaW5kaWNhdG9yQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJleGVyY2lzZS1sb2FkaW5nLWluZGljYXRvclwiKTtcbiAgaW5kaWNhdG9yQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJkLW5vbmVcIik7XG5cbiAgbGV0IHN0YXR1c1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gIHN0YXR1c1RleHQuY2xhc3NMaXN0ID0gXCJleGVyY2lzZS1sb2FkaW5nLWRldGFpbHNcIjtcbiAgc3RhdHVzVGV4dCA9IHN0YXR1c0NvbnRhaW5lci5hcHBlbmRDaGlsZChzdGF0dXNUZXh0KTtcbiAgc3RhdHVzVGV4dC50ZXh0Q29udGVudCA9IGBJbml0aWFsaXNlYDtcblxuICAvLyBIb2lzdCBpbmRpY2F0b3Igb3V0IGZyb20gZmluYWwgc2xpZGUgd2hlbiBydW5uaW5nIHVuZGVyIHJldmVhbFxuICBjb25zdCByZXZlYWxTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJldmVhbCAuZXhlcmNpc2UtbG9hZGluZy1pbmRpY2F0b3JcIik7XG4gIGlmIChyZXZlYWxTdGF0dXMpIHtcbiAgICByZXZlYWxTdGF0dXMucmVtb3ZlKCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXZlYWwgPiAuc2xpZGVzXCIpLmFwcGVuZENoaWxkKHJldmVhbFN0YXR1cyk7XG4gIH1cblxuICAvLyBNYWtlIGFueSByZXZlYWwgc2xpZGVzIHdpdGggbGl2ZSBjZWxscyBzY3JvbGxhYmxlXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmV2ZWFsIC5leGVyY2lzZS1jZWxsXCIpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgZWwuY2xvc2VzdCgnc2VjdGlvbi5zbGlkZScpLmNsYXNzTGlzdC5hZGQoXCJzY3JvbGxhYmxlXCIpO1xuICB9KVxuXG4gIC8vIHdlYlIgc3VwcGxlbWVudGFsIGRhdGEgYW5kIG9wdGlvbnNcbiAgY29uc3QgZGF0YUNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici1kYXRhXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoYjY0RGVjb2RlKGRhdGFDb250ZW50KSk7XG5cbiAgLy8gR3JhYiBsaXN0IG9mIHJlc291cmNlcyB0byBiZSBkb3dubG9hZGVkXG4gIGNvbnN0IGZpbGVzQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNjcmlwdFt0eXBlPVxcXCJ2ZnMtZmlsZVxcXCJdYCkudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGZpbGVzID0gSlNPTi5wYXJzZShiNjREZWNvZGUoZmlsZXNDb250ZW50KSk7XG5cbiAgLy8gVXNlIFBvc3RNZXNzYWdlIGNoYW5uZWwgZm9yIGFzeW5jIGNvbW11bmljYXRpb25cbiAgLy8gV2UgZG8gbm90IGV4cGVjdCB0byB0YWtlIG5lc3RlZCBwcm9tcHQgaW5wdXQgaW4gUXVhcnRvIExpdmUgY2VsbHNcbiAgZGF0YS5vcHRpb25zLmNoYW5uZWxUeXBlID0gQ2hhbm5lbFR5cGUuUG9zdE1lc3NhZ2U7XG5cbiAgLy8gSW5pdGlhbGlzZSB3ZWJSIGFuZCBzZXR1cCBmb3IgUiBjb2RlIGV2YWx1YXRpb25cbiAgbGV0IHdlYlJQcm9taXNlID0gKGFzeW5jICh3ZWJSKSA9PiB7XG4gICAgc3RhdHVzVGV4dC50ZXh0Q29udGVudCA9IGBEb3dubG9hZGluZyB3ZWJSYDtcbiAgICBhd2FpdCB3ZWJSLmluaXQoKTtcblxuICAgIC8vIEluc3RhbGwgcHJvdmlkZWQgbGlzdCBvZiBwYWNrYWdlc1xuICAgIC8vIEVuc3VyZSB3ZWJSIGRlZmF1bHQgcmVwbyBpcyBpbmNsdWRlZFxuICAgIGRhdGEucGFja2FnZXMucmVwb3MucHVzaChcImh0dHBzOi8vcmVwby5yLXdhc20ub3JnXCIpXG4gICAgYXdhaXQgZGF0YS5wYWNrYWdlcy5wa2dzLm1hcCgocGtnKSA9PiAoKSA9PiB7XG4gICAgICBzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gYERvd25sb2FkaW5nIHBhY2thZ2U6ICR7cGtnfWA7XG4gICAgICByZXR1cm4gd2ViUi5ldmFsUlZvaWQoYFxuICAgICAgICB3ZWJyOjppbnN0YWxsKHBrZywgcmVwb3MgPSByZXBvcylcbiAgICAgICAgbGlicmFyeShwa2csIGNoYXJhY3Rlci5vbmx5ID0gVFJVRSlcbiAgICAgIGAsIHsgZW52OiB7XG4gICAgICAgIHBrZzogcGtnLFxuICAgICAgICByZXBvczogZGF0YS5wYWNrYWdlcy5yZXBvcyxcbiAgICAgIH19KTtcbiAgICB9KS5yZWR1Y2UoKGN1ciwgbmV4dCkgPT4gY3VyLnRoZW4obmV4dCksIFByb21pc2UucmVzb2x2ZSgpKTtcblxuICAgIC8vIERvd25sb2FkIGFuZCBpbnN0YWxsIHJlc291cmNlc1xuICAgIGF3YWl0IGZpbGVzLm1hcCgoZmlsZSkgPT4gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbmFtZSA9IGZpbGUuc3Vic3RyaW5nKGZpbGUubGFzdEluZGV4T2YoJy8nKSArIDEpO1xuICAgICAgc3RhdHVzVGV4dC50ZXh0Q29udGVudCA9IGBEb3dubG9hZGluZyByZXNvdXJjZTogJHtuYW1lfWA7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGZpbGUpO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IGRvd25sb2FkIFxcYCR7ZmlsZX1cXGAuIEVycm9yICR7cmVzcG9uc2Uuc3RhdHVzfTogXCIke3Jlc3BvbnNlLnN0YXR1c1RleHR9XCIuYCk7XG4gICAgICB9XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcblxuICAgICAgLy8gU3RvcmUgVVJMcyBpbiB0aGUgY3dkIHdpdGhvdXQgYW55IHN1YmRpcmVjdG9yeSBzdHJ1Y3R1cmVcbiAgICAgIGlmIChmaWxlLmluY2x1ZGVzKFwiOi8vXCIpKSB7XG4gICAgICAgIGZpbGUgPSBuYW1lO1xuICAgICAgfVxuXG4gICAgICAvLyBDb2xsYXBzZSBoaWdoZXIgZGlyZWN0b3J5IHN0cnVjdHVyZVxuICAgICAgZmlsZSA9IGNvbGxhcHNlUGF0aChmaWxlKTtcblxuICAgICAgLy8gQ3JlYXRlIGRpcmVjdG9yeSB0cmVlLCBpZ25vcmluZyBcImRpcmVjdG9yeSBleGlzdHNcIiBWRlMgZXJyb3JzXG4gICAgICBjb25zdCBwYXJ0cyA9IGZpbGUuc3BsaXQoJy8nKS5zbGljZSgwLCAtMSk7XG4gICAgICBsZXQgcGF0aCA9ICcnO1xuICAgICAgd2hpbGUgKHBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGF0aCArPSBwYXJ0cy5zaGlmdCgpICsgJy8nO1xuICAgICAgICBjb25zdCBhbmFseXNpcyA9IGF3YWl0IHdlYlIuRlMuYW5hbHl6ZVBhdGgocGF0aCk7XG4gICAgICAgIGlmICghYW5hbHlzaXMuZXhpc3RzKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHdlYlIuRlMubWtkaXIocGF0aCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGaWxlc3lzdGVtIEVycm9yOiBcIiR7ZS5tZXNzYWdlfVwiLmApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBXcml0ZSB0aGlzIGZpbGUgdG8gdGhlIFZGU1xuICAgICAgcmV0dXJuIGF3YWl0IHdlYlIuRlMud3JpdGVGaWxlKGZpbGUsIG5ldyBVaW50OEFycmF5KGRhdGEpKTtcbiAgICB9KS5yZWR1Y2UoKGN1ciwgbmV4dCkgPT4gY3VyLnRoZW4obmV4dCksIFByb21pc2UucmVzb2x2ZSgpKTtcblxuICAgIHN0YXR1c1RleHQudGV4dENvbnRlbnQgPSBgSW5zdGFsbGluZyB3ZWJSIHNoaW1zYDtcbiAgICBhd2FpdCB3ZWJSLmV2YWxSVm9pZChgd2Vicjo6c2hpbV9pbnN0YWxsKClgKTtcblxuICAgIHN0YXR1c1RleHQudGV4dENvbnRlbnQgPSBgV2ViUiBlbnZpcm9ubWVudCBzZXR1cGA7XG4gICAgYXdhaXQgc2V0dXBSKHdlYlIsIGRhdGEpO1xuXG4gICAgc3RhdHVzVGV4dC5yZW1vdmUoKTtcbiAgICBpZiAoc3RhdHVzQ29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aCA9PSAwKSB7XG4gICAgICBzdGF0dXNDb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHdlYlI7XG4gIH0pKG5ldyBXZWJSKGRhdGEub3B0aW9ucykpO1xuXG4gIC8vIEtlZXAgdHJhY2sgb2YgaW5pdGlhbCBPSlMgYmxvY2sgcmVuZGVyXG4gIGNvbnN0IHJlbmRlcmVkT2pzID0ge307XG5cbiAgY29uc3QgcHJvY2VzcyA9IGFzeW5jIChjb250ZXh0LCBpbnB1dHMpID0+IHtcbiAgICBjb25zdCB3ZWJSID0gYXdhaXQgd2ViUlByb21pc2U7XG4gICAgY29uc3QgZXZhbHVhdG9yID0gbmV3IFdlYlJFdmFsdWF0b3Iod2ViUiwgY29udGV4dClcbiAgICBhd2FpdCBldmFsdWF0b3IucHJvY2VzcyhpbnB1dHMpO1xuICAgIHJldHVybiBldmFsdWF0b3IuY29udGFpbmVyO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9jZXNzLFxuICAgIHdlYlJQcm9taXNlLFxuICAgIHJlbmRlcmVkT2pzLFxuICB9O1xufVxuIn1dfQ==
</script>
<div id="exercise-loading-indicator" class="exercise-loading-indicator d-none d-flex align-items-center gap-2">
<div id="exercise-loading-status" class="d-flex gap-2">

</div>
<div class="spinner-grow spinner-grow-sm">

</div>
</div>
<script type="vfs-file">
W10=
</script>

</main> <!-- /main -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Ii8vIEhpZGRlbiBjZWxsIHRvIGVuc3VyZSBPSlMgcnVudGltZSBpcyBsb2FkZWQgZm9yIHdlYnJcbl93ZWJyX29qc190cmlnZ2VyID0gdHJ1ZVxuIn1dfQ==
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../..";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>